"use strict";(self.webpackChunk_imc_blish_stage_zero=self.webpackChunk_imc_blish_stage_zero||[]).push([[258],{258:(e,t,n)=>{n.r(t),n.d(t,{PagePlayer:()=>fa,PageSelector:()=>nd,configureStore:()=>io,default:()=>bd});var r=n(9377);function i(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{width:e?window.innerWidth:document.documentElement.clientWidth||document.body.clientWidth,height:e?window.innerHeight:document.documentElement.clientHeight||document.body.clientHeight}}var o=n(8129),a=n(2454),c=n(1284),l=n(7008),u=n(1814),s=(n(4556),n(2115)),d=n(2135),f=n(9743),p=n(3047);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b,h={versions:[],version:void 0,initLanguage:f.SQ.EN,windowDimensions:{height:0,width:0},audioPaused:!1,activeCid:void 0,activeIndex:0,storeItems:[],init:!1,pageAnimationTransitionEnabled:!0,pageAnimationTransitionRunning:!1,headerChipVisible:!1,monitorSize:!0,linear:!0,started:!1,toc:!1,end:!1,seed:0,questions:{attempts:{}},theme:{},loadingError:!1},v="pager",y=(0,p.PH)("".concat(v,"/switchLanguage")),w=(0,p.PH)("".concat(v,"/openStageZero")),k=(0,p.PH)("".concat(v,"/navigatePageRequest")),O=(0,p.PH)("".concat(v,"/questionToggleAnswer")),x=(0,p.PH)("".concat(v,"/questionReset")),E=(0,p.PH)("".concat(v,"/pageAnimationTransitionFinished")),P=(0,p.PH)("".concat(v,"/cardToggle")),j=(0,p.PH)("".concat(v,"/testStart")),z=(0,p.PH)("".concat(v,"/testSubmit")),S=(0,p.oM)({name:v,initialState:h,reducers:{initPlayer:function(e,t){e.storeItems=t.payload.storage.items,e.username=t.payload.username,e.seed=t.payload.storage.seed,e.activeCid=t.payload.storage.current,e.init=!0},setVersion:function(e,t){if(e.loadingVersion&&e.loadingVersion.id===t.payload.version.id){e.version=t.payload.version,e.loadingVersion=void 0;var n=t.payload.content;e.render=n,void 0===e.initRender&&(e.initRender=n,e.linear=t.payload.content.linear,e.audioPaused=t.payload.content.startMuted)}},setLoadingVersion:function(e,t){e.version=void 0,e.render=void 0,e.loadingVersion=t.payload},setLoadingVersionFailed:function(e){e.loadingError=!0},setActiveCid:function(e,t){e.activeCid=t.payload},setStorageItem:function(e,t){t.payload.storeItem&&(e.storeItems=e.storeItems.map((function(e){return e.cid===t.payload.storeItem.cid?m(m({},e),t.payload.storeItem):e})))},navigatePage:function(e,t){e.pageAnimationTransitionRunning=t.payload.withTransitionAnimation,e.pageAnimationTransitionEnabled=t.payload.withTransitionAnimation,e.activeIndex=t.payload.index,e.headerChipVisible=!1,e.activeCid=t.payload.newActiveCid},setHeaderChipVisible:function(e,t){e.headerChipVisible=t.payload},audioStop:function(e){e.audioPaused=!0},audioStart:function(e){e.audioPaused=!1},contentStart:function(e){e.started=!0},toggleToc:function(e,t){e.toc=t.payload},questionSubmit:function(e,t){e.questions.attempts[t.payload]=(e.questions.attempts[t.payload]||0)+1},setSize:function(e,t){e.windowDimensions=t.payload},setMonitor:function(e,t){e.monitorSize=t.payload},setSearchQuery:function(e,t){e.searchQuery=t.payload},toggleEnd:function(e,t){e.end=t.payload}}}),C=S.reducer,I=S.actions,Y=I.initPlayer,Z=I.setVersion,L=I.setLoadingVersion,D=I.setLoadingVersionFailed,A=I.setActiveCid,T=I.setStorageItem,R=I.navigatePage,M=I.setHeaderChipVisible,q=I.audioStop,F=I.audioStart,N=I.contentStart,V=I.toggleToc,B=I.questionSubmit,H=I.setSize,Q=I.setMonitor,$=I.setSearchQuery,X=I.toggleEnd,U=n(3635),_=n(9158),W=n(6154),J=n(5929);!function(e){e.Chapter="c",e.List="l"}(b||(b={}));var G=function(e,t){return e.find((function(e){return e.cid===t}))};function K(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ee(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var te,ne,re=function(e){return e.box.duration||0},ie=function(e){var t,n=0,r=K(e);try{for(r.s();!(t=r.n()).done;)n+=t.value.duration}catch(e){r.e(e)}finally{r.f()}return n},oe=function(e){var t=ie(e);if(0===t)return 1;var n,r=0,i=K(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;r+=o.duration*o.progress}}catch(e){i.e(e)}finally{i.f()}return r/t},ae=function e(t,n,r){var i,o=[],a=K(t);try{var c=function(){var t,a=i.value;switch(a.type){case b.Chapter:var c=a,l=[];c.heading&&l.push(c.heading),l.push.apply(l,(0,_.Z)(c.content));var u=e(l,n,r),s=ie(u),d=oe(u);o.push({headerCid:c.heading,content:u,duration:s,progress:d});break;case b.List:var f=e(a.content,n,r),p=ie(f),g=oe(f);o.push({content:f,duration:p,progress:g});break;default:var m=a,h=G(n,m),v=r.find((function(e){return e.cid===m}));h&&v&&o.push({cid:m,content:[],duration:re(v),progress:(t=h,(t.progress||0)/255)})}};for(a.s();!(i=a.n()).done;)c()}catch(e){a.e(e)}finally{a.f()}return o},ce=n(2093),le=ce.z.object({x:ce.z.number(),y:ce.z.number(),size:ce.z.number()}),ue={x:.5,y:.5,size:0},se=ce.z.object({contentHash:ce.z.string(),mimeType:ce.z.string(),pending:ce.z.boolean(),width:ce.z.number().optional(),height:ce.z.number().optional(),nsfw:ce.z.boolean().optional(),thumb16:ce.z.string().optional(),date:ce.z.string().optional(),duration:ce.z.number().optional(),fileSize:ce.z.number().optional(),centerLeft:ce.z.number().optional(),centerTop:ce.z.number().optional(),focusarea:le.optional(),segments:ce.z.number().optional(),screenshots:ce.z.number().optional(),sizes:ce.z.array(ce.z.string()).optional()}),de=ce.z.object({file:se,created:ce.z.string().optional(),modified:ce.z.string().optional(),derivation:ce.z.boolean(),protected:ce.z.boolean(),license:ce.z.string().optional(),author:ce.z.string().optional(),title:ce.z.string().optional(),uri:ce.z.string().optional(),focusarea:le.optional()});(ne=te||(te={})).Fit="Fit",ne.Start="Start",ne.Center="Center",ne.End="End";var fe,pe,ge=ce.z.nativeEnum(te),me=ce.z.object({reference:de,focusarea:le,align:ge.optional()}).strict(),be=(ce.z.object({referenceId:ce.z.string(),focusarea:le.optional(),align:ge.optional()}).strict(),{"16_9":1.7777777777777777,"4_3":1.3333333333333333,"3_2":1.5,"1_1":1,"2_3":.6666666666666666,"3_4":.75});(pe=fe||(fe={})).Paragraph="Paragraph",pe.Heading="Heading",pe.ListItem="ListItem",pe.Note="Note",pe.Extension="Extension",pe.Question="Question",pe.QuestionImage="QuestionImage",pe.QuestionAnswer="QuestionAnswer",pe.QuestionFeedback="QuestionFeedback",pe.TestConfiguration="TestConfiguration",pe.TestResult="TestResult",pe.TestFeedback="TestFeedback",pe.CitationContent="CitationContent",pe.CitationSuffix="CitationSuffix",pe.MetaTitle="MetaTitle",pe.MetaParagraph="MetaParagraph",pe.Caption="Caption",pe.ImageLabel="ImageLabel",pe.ImageLabelDescription="ImageLabelDescription",pe.VideoSubtitle="VideoSubtitle",pe.VideoSubtitlesLoading="VideoSubtitlesLoading",pe.LinkTitle="LinkTitle",pe.LinkTarget="LinkTarget",pe.CardFrontLabel="CardFrontLabel",pe.CardFrontImage="CardFrontImage",pe.CardBackLabel="CardBackLabel",pe.CardBackImage="CardBackImage",ce.z.nativeEnum(fe);var he,ve=ce.z.object({fondlerIcon:ce.z.literal("plus").optional()}),ye=ce.z.object({type:ce.z.literal(fe.Paragraph),highlight:ce.z.oboolean(),pageBreak:ce.z.oboolean(),imageOptions:ve.optional()}),we=ce.z.object({type:ce.z.literal(fe.Heading),level:ce.z.number(),background:ce.z.array(me).optional()}).strict();!function(e){e.Bullet="Bullet",e.Decimal="Decimal"}(he||(he={}));var ke,Oe=ce.z.nativeEnum(he),xe=ce.z.object({type:ce.z.literal(fe.ListItem),styleType:Oe,num:ce.z.onumber()}).strict(),Ee=ce.z.object({type:ce.z.literal(fe.Question),shuffleAnswers:ce.z.boolean(),forceMultipleChoice:ce.z.boolean(),maxTries:ce.z.onumber(),testTopic:ce.z.ostring()}).strict(),Pe=ce.z.object({type:ce.z.literal(fe.QuestionImage)}).strict(),je=ce.z.object({type:ce.z.literal(fe.QuestionAnswer),correct:ce.z.boolean()}).strict(),ze=ce.z.object({type:ce.z.literal(fe.QuestionFeedback),correct:ce.z.boolean()}).strict(),Se=ce.z.object({type:ce.z.literal(fe.TestConfiguration),level:ce.z.number(),shuffleQuestions:ce.z.boolean(),questionAmount:ce.z.literal("all").or(ce.z.number()),successPercent:ce.z.number().min(0).max(1)}).strict(),Ce=ce.z.object({type:ce.z.literal(fe.TestResult)}).strict(),Ie=ce.z.object({type:ce.z.literal(fe.TestFeedback),correct:ce.z.boolean()}).strict(),Ye=ce.z.object({type:ce.z.literal(fe.Note)}).strict(),Ze=ce.z.object({type:ce.z.literal(fe.Extension),extension:ce.z.any()}).strict(),Le=ce.z.object({type:ce.z.literal(fe.CitationContent),icon:ce.z.union([ce.z.literal("quotation"),ce.z.literal("question"),ce.z.literal("exclamation"),ce.z.literal("attention"),ce.z.literal("bulb")]).optional()}).strict(),De=ce.z.object({type:ce.z.literal(fe.CitationSuffix)}).strict(),Ae=ce.z.object({type:ce.z.literal(fe.MetaTitle),background:ce.z.array(me).optional()}).strict(),Te=ce.z.object({type:ce.z.literal(fe.MetaParagraph)}).strict(),Re=ce.z.object({type:ce.z.literal(fe.Caption)}).strict(),Me=ce.z.object({type:ce.z.literal(fe.ImageLabel),x:ce.z.number(),y:ce.z.number()}).strict(),qe=ce.z.object({type:ce.z.literal(fe.ImageLabelDescription)}).strict(),Fe=ce.z.object({type:ce.z.literal(fe.VideoSubtitle),from:ce.z.number(),to:ce.z.number()}).strict(),Ne=ce.z.object({type:ce.z.literal(fe.VideoSubtitlesLoading)}).strict(),Ve=ce.z.object({type:ce.z.literal(fe.LinkTarget),icon:ce.z.union([ce.z.literal("link"),ce.z.literal("doc"),ce.z.literal("video"),ce.z.literal("mail"),ce.z.literal("phone")]),embed:ce.z.boolean()}).strict(),Be=ce.z.object({type:ce.z.literal(fe.LinkTitle)}).strict(),He=ce.z.object({type:ce.z.literal(fe.CardFrontLabel)}).strict(),Qe=ce.z.object({type:ce.z.literal(fe.CardFrontImage)}).strict(),$e=ce.z.object({type:ce.z.literal(fe.CardBackLabel)}).strict(),Xe=ce.z.object({type:ce.z.literal(fe.CardBackImage)}).strict(),Ue=ce.z.discriminatedUnion("type",[ye,we,xe,Ee,Pe,je,ze,Se,Ce,Ie,Ye,Ze,Le,De,Ae,Te,Re,Me,qe,Fe,Ne,Be,Ve,He,Qe,$e,Xe]);!function(e){e.Text="Text",e.Image="Image",e.Audio="Audio",e.Video="Video"}(ke||(ke={}));var _e=ce.z.nativeEnum(ke);function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}ce.z.object({id:ce.z.ostring(),predecessor:ce.z.ostring().or(ce.z.null()),context:Ue,primary:_e,proposal:ce.z.ostring()}).strict(),ce.z.object({id:ce.z.ostring(),context:Ue.optional(),primary:_e.optional()}).strict();var Je,Ge=function e(t,n,r){var i,o=[],a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return We(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?We(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}(t);try{var c=function(){var t=i.value;if(!t.headerCid)return 0;if(!G(n,t.headerCid))return 0;var a=r.find((function(e){return e.cid===t.headerCid}));if(!a)return 0;var c=a.box.plain,l=function(e){if(e.context.type==fe.Heading||e.context.type==fe.TestConfiguration)return e.context.level;throw new Error("levelOf only on headings")}(a);o.push({cid:t.headerCid,level:l,text:c||"",progress:t.progress,headers:e(t.content,n,r),childCids:t.content.filter((function(e){return void 0!==e.cid})).map((function(e){return e.cid}))})};for(a.s();!(i=a.n()).done;)c()}catch(e){a.e(e)}finally{a.f()}return o};function Ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e){e.Title="Title",e.Vertical="Vertical",e.Column2="Column2",e.Column3="Column3",e.TitleColumn1="TitleColumn1",e.TitleColumn2="TitleColumn2",e.TitleVerticalThird="TitleVerticalThird",e.VerticalHalf="VerticalHalf",e.Image="Image",e.ImageLandscapeColumn3="ImageLandscapeColumn3",e.ImagePortraitColumn2="ImagePortraitColumn2",e.ImageRow2="ImageRow2",e.ImageCaption="ImageCaption",e.ImageLabel="ImageLabel",e.MobileImageLabel="MobileImageLabel",e.Question="Question",e.HorizontalThird="HorizontalThird",e.HorizontalThirdColumn2="HorizontalThirdColumn2",e.Citation="Citation",e.Video="Video",e.IFrame="IFrame",e.Cards="Cards",e.TestStart="TestStart",e.TestResult="TestResult"}(Je||(Je={}));var et=function(e){switch(e.kind){case Je.Title:return e.subtitle?[e.title,e.subtitle]:[e.title];case Je.Vertical:return e.elements;case Je.Column2:return[].concat((0,_.Z)(e.column1),(0,_.Z)(e.column2));case Je.Column3:return[].concat((0,_.Z)(e.column1),(0,_.Z)(e.column2),(0,_.Z)(e.column3));case Je.TitleColumn1:return[e.title].concat((0,_.Z)(e.elements));case Je.TitleColumn2:return[e.title].concat((0,_.Z)(e.column1),(0,_.Z)(e.column2));case Je.TitleVerticalThird:return[e.title].concat((0,_.Z)(e.elements));case Je.VerticalHalf:case Je.HorizontalThird:return e.elements;case Je.HorizontalThirdColumn2:return[].concat((0,_.Z)(e.column1),(0,_.Z)(e.column2));case Je.Image:return[e.image];case Je.ImageLandscapeColumn3:case Je.ImagePortraitColumn2:case Je.ImageRow2:return[e.image].concat((0,_.Z)(e.column));case Je.ImageCaption:return[e.image].concat((0,_.Z)(e.elements));case Je.ImageLabel:return[e.image].concat((0,_.Z)(e.balls.map((function(e){var t=e.label,n=e.description;return n?[t,n]:[t]})).flat()));case Je.MobileImageLabel:var t=e.active;return"caption"===t.kind?[e.image,t.caption]:"ball"===t.kind?t.description?[e.image,t.label,t.description]:[e.image,t.label]:[];case Je.Question:var n=[e.question];e.image&&n.push(e.image);var r,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ke(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}(e.answers);try{for(i.s();!(r=i.n()).done;){var o=r.value;n.push(o)}}catch(e){i.e(e)}finally{i.f()}return e.feedbackCorrect&&n.push(e.feedbackCorrect),e.feedbackWrong&&n.push(e.feedbackWrong),n;case Je.Citation:return e.suffix?[e.content,e.suffix]:[e.content];case Je.Video:return[e.video];case Je.IFrame:return[e.link];case Je.Cards:return[].concat((0,_.Z)(e.title?[e.title]:[]),(0,_.Z)(e.prefix),(0,_.Z)(e.cards.map((function(e){return[e.front?e.front.img:void 0,e.front?e.front.text:void 0,e.back?e.back.img:void 0,e.back?e.back.text:void 0]})).flat().filter((function(e){return e}))));case Je.TestStart:case Je.TestResult:return[]}},tt=function(e){switch(e.kind){case Je.Video:return e.subtitles;case Je.Cards:return e.cards.filter((function(e){return void 0===e.front||e.front&&void 0===e.front.text})).map((function(e){return e.cid}));case Je.TestStart:case Je.TestResult:return[e.id];default:return[]}};function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function it(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ot(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var at=function(e){var t=e.context.maxTries;return void 0===t?3:0===t?1/0:t},ct=function(e,t,n,r,i){if(n<0||void 0===n)return!1;var o=!e.slice(0,n).some((function(e){return e<1}));if(t&&!o&&!i.active)return!1;var a=Object.values(r).find((function(e){return e.pageIndex===n}));if(a){var c=a.page.kind===Je.Question&&void 0!==a.page.testTopic,l=a.page.kind===Je.TestResult;return i.active?c||l:!c&&!l}return!i.active},lt={width:0,height:0},ut=function(e){return e.app.windowDimensions},st=function(e){return e.app.initRender?e.app.initRender.structure:void 0},dt=function(e){return e.app.versions},ft=function(e){return e.app.render?e.app.render.container:lt},pt=function(e){return e.app.seed},gt=function e(t,n,r,i,o,a){return{cid:t.cid,level:t.level,text:t.text,progress:t.progress,active:t.childCids.some((function(e){return e===n})),headers:t.headers.filter((function(e){return e.level<=3})).map((function(t){return e(t,n,r,i,o,a)})),pageIndex:r[t.cid].pageIndex,accessible:ct(i,o,r[t.cid].pageIndex,r,a)}},mt=function e(t){var n,r=it(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.active)return i;var o=e(i.headers);if(o)return o}}catch(e){r.e(e)}finally{r.f()}},bt=(0,W.P1)((function(e){return e.app.init}),(function(e){return e})),ht=(0,W.P1)((function(e){return e.app.version}),(function(e){return e})),vt=(0,W.P1)((function(e){return e.app.loadingVersion}),(function(e){return e})),yt=(0,W.P1)(dt,(function(e){return e})),wt=(0,W.P1)(dt,(function(e){return(0,_.Z)(new Set(e.filter((function(e){return"Pager"===e.player})).map((function(e){return e.edition.locale}))))})),kt=(0,W.P1)((function(e){return e.app.initLanguage}),ht,(function(e,t){return t?t.edition.locale:e})),Ot=(0,W.P1)(ht,vt,(function(e,t){return void 0===e&&void 0===t})),xt=(0,W.P1)((function(e){return e.app.theme}),(function(e){return e})),Et=(0,W.P1)((function(e){return e.app.pageAnimationTransitionEnabled}),xt,(function(e,t){return e&&t.player.pageTransition.duration>0})),Pt=(0,W.P1)((function(e){return e.app.pageAnimationTransitionRunning}),(function(e){return e})),jt=(0,W.P1)((function(e){return e.app.headerChipVisible}),(function(e){return e})),zt=(0,W.P1)((function(e){return e.app.activeIndex}),(function(e){return e})),St=(0,W.P1)((function(e){return e.app.activeCid}),(function(e){return e})),Ct=(0,W.P1)(ut,(function(e){return e})),It=(0,W.P1)((function(e){return e.app.render?e.app.render.canvas:lt}),(function(e){return e})),Yt=(0,W.P1)(ft,(function(e){return e})),Zt=(0,W.P1)((function(e){return e.app.render?e.app.render.renders.map((function(e){return e.p})):void 0}),(function(e){return e||[]})),Lt=(0,W.P1)((function(e){return e.app.initRender?e.app.initRender.imprint:void 0}),(function(e){return e})),Dt=(0,W.P1)((function(e){return e.app.loadingError}),(function(e){return e})),At=(0,W.P1)((function(e){return e.app.storeItems}),(function(e){return e})),Tt=(0,W.P1)((function(e){return e.app.render?e.app.render.steps:e.app.initRender?e.app.initRender.steps:void 0}),(function(e){return e||[]})),Rt=(0,W.P1)(pt,(function(e){return e})),Mt=(0,W.P1)((function(e){return e.app.render?e.app.render.translations:void 0}),(function(e){return e||{search:"",noSearchResult:"",imprint:"",imprintLineOfBusiness:"",endpage:{unfinished:"",finished:"",viewAgain:"",continue:"",congratulations:""},enterAria:""}})),qt={},Ft=function(e){return qt[e.id]||[]},Nt=function(e){return qt[e.id]||(qt[e.id]=e.animations.map((function(e){return rt(rt({},e),{},{ref:(0,r.createRef)()})}))),{all:function(){return qt[e.id]},cid:function(t){var n=qt[e.id].find((function(e){return"c"===e.t&&e.cid===t}));if(n)return n.ref;console.error("can not find animation target with cid ".concat(t," on page ").concat(e.id," (").concat(e.kind,")"))},name:function(t){var n=qt[e.id].find((function(e){return"n"===e.t&&e.name===t}));if(n)return n.ref;console.error("can not find animation target with name ".concat(t," on page ").concat(e.id," (").concat(e.kind,")"))}}},Vt=(0,W.P1)(Zt,At,Tt,(function(e,t,n){var r,i={},o=it(n);try{for(o.s();!(r=o.n()).done;){var a=r.value;i[a.cid]={step:a}}}catch(e){o.e(e)}finally{o.f()}var c,l=it(e);try{for(l.s();!(c=l.n()).done;){var u,s=c.value,d=it(et(s));try{for(d.s();!(u=d.n()).done;){var f=u.value;i[f.cid].el=f,i[f.cid].page=s,i[f.cid].pageIndex=e.indexOf(s)}}catch(e){d.e(e)}finally{d.f()}var p,g=it(tt(s));try{for(g.s();!(p=g.n()).done;){var m=p.value;i[m].page=s,i[m].pageIndex=e.indexOf(s)}}catch(e){g.e(e)}finally{g.f()}}}catch(e){l.e(e)}finally{l.f()}var b,h=it(t);try{for(h.s();!(b=h.n()).done;){var v=b.value;i[v.cid]&&(i[v.cid].storeItem=v)}}catch(e){h.e(e)}finally{h.f()}return i})),Bt=(0,W.P1)(At,Vt,(function(e,t){return e.map((function(e){return rt(rt({},e),{},{item:t[e.cid].step})}))})),Ht=(0,W.P1)(Bt,st,Tt,(function(e,t,n){return t?ae(t,e,n):[]})),Qt=(0,W.P1)(Bt,st,Tt,(function(e,t,n){return t?function(e,t,n){var r=ae(e,t,n);return oe(r)}(t,e,n):0})),$t=(0,W.P1)(Qt,(function(e){return e>.999})),Xt=(0,W.P1)(Zt,zt,(function(e,t){return e[t]})),Ut=(0,W.P1)(Xt,(function(e){return e?et(e).map((function(e){return e.cid})):[]})),_t=(0,W.P1)(Vt,At,Zt,(function(e,t,n){var r,i=new Array(n.length).fill(0),o=new Array(n.length).fill(0),a=it(t);try{for(a.s();!(r=a.n()).done;){var c=r.value,l=c.progress,u=e[c.cid].pageIndex;i[u]+=l||0,o[u]+=1}}catch(e){a.e(e)}finally{a.f()}return i.map((function(e,t){return e/o[t]/255||0}))})),Wt=function(e,t){var n=e.map((function(e){return t[e].step.box.duration||0})),r=e.map((function(e){return(t[e]&&t[e].storeItem&&t[e].storeItem.progress||0)/255})),i=n.reduce((function(e,t){return e+t}),0);return 0===i?1:n.reduce((function(e,t,n){return e+t*r[n]}),0)/i},Jt=(0,W.P1)(Ut,Vt,Wt),Gt=(0,W.P1)((function(e){return e.app.audioPaused}),(function(e){return e})),Kt=(0,W.P1)((function(e){return e.app.linear}),(function(e){return e})),en=(0,W.P1)((function(e){return e.app.started}),(function(e){return e})),tn=(0,W.P1)((function(e){return e.app.toc}),(function(e){return e})),nn=(0,W.P1)((function(e){return e.app.end}),(function(e){return e})),rn=(0,W.P1)((function(e){return e.app.monitorSize}),(function(e){return e})),on=function(e,t,n){for(var r=new J(e,t),i=(0,_.Z)(n),o=i.length-1;o>0;o--){var a=r.random(o+1),c=[i[a],i[o]];i[o]=c[0],i[a]=c[1]}return i},an=(0,W.P1)(Zt,Vt,pt,(function(e){return e.app.questions.attempts}),ft,ut,(function(e,t,n,r,i,o){return e.map((function(e){if(e.kind===Je.Question){var a=i||{width:0,height:0},c=t[e.question.cid].storeItem,l=t[e.question.cid].step,u=c.chosen,s=r[l.cid]||0,d=(l.context.type===fe.Question&&l.context.shuffleAnswers?on(n,e.question.cid,e.answers):e.answers).map((function(e){var n=t[e.cid],r=n.storeItem,i=n.step,o=i.context.type===fe.QuestionAnswer&&i.context.correct;return{selected:r.chosen,correct:o,step:i,el:e}})),f=l.context.type===fe.Question&&l.context.forceMultipleChoice,p=d.filter((function(e){return e.step.context.type===fe.QuestionAnswer&&e.step.context.correct})).length,g=!f&&1===p,m=d.filter((function(e){return e.selected})).length,b=d.filter((function(e){return e.correct===e.selected})).length===d.length,h=at(l),v=u&&(b||s>=h),y=d.map((function(e){var t=e.selected,n=e.correct,r="unselected";return v?r=t&&n?"selected-correct":t&&!n?"selected-wrong":!t&&n?"unselected-correct":"unselected-wrong":t&&(r="selected"),rt(rt({},e),{},{state:r})})),w="submit",k=rt(rt({},e.feedbackContainer),{},{height:58});u&&(b?(w="correct",k.height+=e.feedbackCorrect?e.feedbackCorrect.bounds.height+20:0):v?(w="wrong",k.height+=e.feedbackWrong?e.feedbackWrong.bounds.height+20:0):w="try-again");var O=rt(rt({},a),{},{top:Math.round((o.height-a.height)/2),left:Math.round((o.width-a.width)/2)}),x=(k.top||0)+k.height,E=!1;x>O.height&&(E=!0,O.height=x+O.top);var P={top:0,left:0,width:o.width,height:O.top+e.answerContainer.top-16};return{pageId:e.id,hasScroll:E,scrollInner:O,backgroundColorBounds:P,question:{attempts:s,step:l,submitted:u,isSingleChoice:g,correct:b},answers:y,image:e.image?{el:e.image,step:t[e.image.cid].step}:void 0,feedbackState:w,feedbackSubmitActive:!(!u&&g)||1===m,feedbackContainer:k,feedbackCorrect:e.feedbackCorrect?{el:e.feedbackCorrect,step:t[e.feedbackCorrect.cid].step}:void 0,feedbackWrong:e.feedbackWrong?{el:e.feedbackWrong,step:t[e.feedbackWrong.cid].step}:void 0}}}))})),cn=(0,W.P1)(Tt,Vt,Rt,(function(e,t,n){var r=e.find((function(e){return e.context.type===fe.TestConfiguration}));if(!r)return[];var i=t[r.cid].page;if(!i||i.kind!==Je.TestStart)return[];var o=t[r.cid].storeItem.progress,a=i.config,c=a.shuffleQuestions,l=a.questionAmount,u=(0,_.Z)(on(n,o,i.questionPageIds));return"all"!==l&&u.length>l&&(u.length=l),c||(u=i.questionPageIds.filter((function(e){return u.includes(e)}))),u})),ln=(0,W.P1)(Tt,St,Vt,cn,(function(e,t,n,r){var i=e.find((function(e){return e.context.type===fe.TestConfiguration})),o=e.find((function(e){return e.context.type===fe.TestResult}));if(!i||!o)return{cid:void 0,resultCid:void 0,active:!1,attempt:0,config:void 0,questionPageIds:[]};var a=n[i.cid].page;if(!a||a.kind!==Je.TestStart)return{cid:void 0,resultCid:void 0,active:!1,attempt:0,config:void 0,questionPageIds:[]};if(t){var c=n[t],l=c.step.context.type===fe.Question&&void 0!==c.step.context.testTopic,u=c.step.context.type===fe.TestConfiguration,s=c.step.context.type===fe.TestResult;if(l||u||s){var d=n[i.cid].storeItem.chosen,f=n[i.cid].storeItem.progress;return{cid:i.cid,resultCid:o.cid,active:d,attempt:f,config:a.config,questionPageIds:r}}}return{cid:i.cid,resultCid:o.cid,active:!1,attempt:0,config:a.config,questionPageIds:[]}})),un=(0,W.P1)(cn,an,(function(e,t){if(!e.length)return 0;var n,r=1/e.length,i=0,o=it(e);try{var a=function(){var e=n.value,o=t.find((function(t){return t&&t.question.step.cid===e}));o&&o.question.submitted&&o.question.correct&&(i+=r)};for(o.s();!(n=o.n()).done;)a()}catch(e){o.e(e)}finally{o.f()}return i})),sn=(0,W.P1)(Ht,Bt,Ut,Vt,_t,Kt,ln,Tt,(function(e,t,n,r,i,o,a,c){var l=n[n.length-1];return Ge(e,t,c).map((function(e){return gt(e,l,r,i,o,a)}))})),dn=(0,W.P1)(sn,(function(e){return mt(e)})),fn=(0,W.P1)(Kt,zt,_t,Vt,ln,(function(e,t,n,r,i){return 0!==t&&ct(n,e,t-1,r,i)})),pn=(0,W.P1)(Kt,zt,_t,Vt,ln,(function(e,t,n,r,i){return ct(n,e,t+1,r,i)})),gn=(0,W.P1)(_t,(function(e){return e.every((function(e){return 1===e}))?e.length-1:e.findIndex((function(e){return e>=0&&e<1}))||0})),mn=function(e){var t=e.reference.file,n=t.height,r=t.width;if(void 0===n||void 0===r||isNaN(n)||isNaN(r)||!isFinite(n)||!isFinite(r))return"center";var i=r/n,o="center";return e.align&&(e.align===te.Start?o="start":e.align===te.End&&(o="end")),i>2/3?"start"===o?"left center":"end"===o?"right center":"center":"start"===o?"center top":"end"===o?"center bottom":"center"},bn=(0,W.P1)(Zt,Vt,(function(e,t){return e.map((function(e){if(e.kind===Je.Cards){var n=e.cards.map((function(e){var n=e.front&&e.front.img&&t[e.front.img.cid].step.box.image,r=e.back&&e.back.img&&t[e.back.img.cid].step.box.image;return rt(rt({},e),{},{reversed:t[e.cid].storeItem.chosen,frontImage:{ref:n?n.reference:void 0,position:n?mn(n):"center"},backImage:{ref:r?r.reference:void 0,position:r?mn(r):"center"}})}));return{pageId:e.id,cards:n}}}))})),hn=function e(t,n,r){switch(t.type){case b.Chapter:var i=t;i.heading&&n&&(r[i.heading]=n);var o,a=it(i.content);try{for(a.s();!(o=a.n()).done;)e(o.value,i.heading,r)}catch(e){a.e(e)}finally{a.f()}break;case b.List:var c,l=it(t.content);try{for(l.s();!(c=l.n()).done;)e(c.value,n,r)}catch(e){l.e(e)}finally{l.f()}break;default:n&&(r[t]=n)}},vn=(0,W.P1)(st,(function(e){var t={};if(e){var n,r=it(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;hn(i,void 0,t)}}catch(e){r.e(e)}finally{r.f()}}return t})),yn=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},wn=(0,W.P1)((function(e){return e.app.searchQuery}),Tt,Vt,vn,Kt,_t,ln,(function(e,t,n,r,i,o,a){var c,l=e&&e.length>=2?t.filter((function(t){return t.box.plain&&t.box.plain.toLowerCase().indexOf(e.toLocaleLowerCase())>=0})):[],u=[],s={},d=it(l);try{for(d.s();!(c=d.n()).done;){var f=c.value,p=void 0;r[f.cid]&&(p=n[r[f.cid]].step);var g=p?"".concat(p.cid):"undefined",m=s[g];if(m)m.steps.push(f);else{var b={heading:p,steps:[f]};s[g]=b,u.push(b)}}}catch(e){d.e(e)}finally{d.f()}var h=u.map((function(t){var r,c=t.heading,l=t.steps,u=[],s=it(l);try{for(s.s();!(r=s.n()).done;){var d=r.value,f=d.box.plain?d.box.plain.replaceAll("\n"," "):"",p=f.split(new RegExp(yn(e||""),"ig"));if(p.length>1)for(var g=0;g<p.length-1;g++){var m=p.slice(0,g+1).join(e).length,b=f.slice(0,m),h=p.slice(g+1,void 0).join(e).length,v=f.slice(-h),y=f.slice(m,-h),w=b.split(" "),k=w.slice(-8).join(" "),O=v.split(" "),x=O.slice(0,8).join(" ");u.push({id:"".concat(d.cid,"-").concat(g),cid:d.cid,highlight:y,prefix:k,prefixShortened:w.length>8,postfix:x,postfixShortened:O.length>8,accessible:ct(o,i,n[d.cid].pageIndex,n,a)})}}}catch(e){s.e(e)}finally{s.f()}return{id:c?"h".concat(c.cid):"s".concat(l[0].cid),heading:c?c.box.plain:void 0,searchResults:u}}));return{query:e,searchGroups:h}})),kn=(0,W.P1)(Zt,Vt,St,(function(e,t,n){var r,i={},o=it(e);try{for(o.s();!(r=o.n()).done;){var a=r.value;a.kind===Je.ImageLabel?i[a.image.cid]={balls:a.balls.map((function(e){return{label:t[e.label.cid],description:e.description?t[e.description.cid]:void 0}}))}:a.kind===Je.MobileImageLabel&&(i[a.image.cid]||(i[a.image.cid]={balls:a.balls.map((function(e){return{label:t[e.label],description:e.description?t[e.description]:void 0}}))}))}}catch(e){o.e(e)}finally{o.f()}for(var c={},l=0,u=Object.keys(i);l<u.length;l++){var s=u[l],d=i[parseInt(s)].balls.map((function(e){var r=e.description?[e.label,e.description]:[e.label],i=Wt(r.map((function(e){return e.el.cid})),t);return{label:e.label,description:e.description,progress:i,x:e.label.step.context.x,y:e.label.step.context.y,id:e.label.step.cid,active:!!(e.label.el.cid===n||e.description&&e.description.el.cid===n)}}));c[parseInt(s)]={image:t[parseInt(s)],balls:d}}return c})),On=function(){return(0,d.fw)("universalApi")},xn=function(){return(0,d.fw)("contentBackend")},En=3e3,Pn=300,jn=300,zn=n(716),Sn=s.mark(Cn);function Cn(){var e,t,n,r,i,o,a,c;return s.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.delegateYield((0,d.Ys)(At),"t0",1);case 1:return e=l.t0,l.delegateYield((0,d.Ys)(Rt),"t1",3);case 3:return t=l.t1,l.delegateYield((0,d.Ys)(St),"t2",5);case 5:return n=l.t2,r={items:e,current:n,seed:t},i=(0,U.D)(r),l.delegateYield(On(),"t3",9);case 9:return o=l.t3,l.delegateYield((0,d.Ys)(Qt),"t4",11);case 11:return a=l.t4,l.delegateYield((0,d.Ys)($t),"t5",13);case 13:if(!l.t5){l.next=16;break}return l.delegateYield((0,d.RE)(o.setStatus,zn.qb.COMPLETED),"t6",16);case 16:return c={progress:a,score:void 0,state:i},l.delegateYield((0,d.RE)(o.setState,c),"t7",18);case 18:case"end":return l.stop()}}),Sn)}function In(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Yn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function Yn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Zn=600,Ln=(ce.z.union([ce.z.literal("none"),ce.z.literal("fadeIn"),ce.z.literal("bubble"),ce.z.literal("scaleDownCenter"),ce.z.literal("scaleUpCenter"),ce.z.literal("slideTop"),ce.z.literal("slideBottom"),ce.z.literal("kenBurns"),ce.z.literal("kenBurnsStrong"),ce.z.literal("slideLeft"),ce.z.literal("slideRight"),ce.z.literal("verticalScaleTop"),ce.z.literal("verticalScaleCenter"),ce.z.literal("verticalScaleBottom"),ce.z.literal("horizontalScaleLeft"),ce.z.literal("horizontalScaleCenter"),ce.z.literal("horizontalScaleRight"),ce.z.literal("typewriterFadeIn"),ce.z.literal("typewriterScaleDown"),ce.z.literal("typewriterExpandLeft"),ce.z.literal("phaserLeft"),ce.z.literal("phaserRight"),ce.z.literal("flyInBottomCenter"),ce.z.literal("flipInBottom")]),function(e){return function(){return[e.div.animate([{opacity:1},{opacity:0}],{duration:Zn*e.timeScale,fill:"forwards"})]}}),Dn=function(e){return Array.from(e.querySelectorAll("div > span"))},An={none:function(){return{setup:function(){},enter:function(){return[]},leave:function(){return[]}}},bubble:function(e){return{setup:function(){e.div.animate([{opacity:0}],{duration:0,fill:"forwards"})},enter:function(){return[e.div.animate([{transform:"scale(1)"},{transform:"scale(1.1)",opacity:1,offset:.5},{transform:"scale(1)",offset:.99},{opacity:1}],{duration:Zn*e.timeScale,fill:"forwards"})]},leave:Ln(e)}},fadeIn:function(e){return{setup:function(){e.div.animate([{opacity:0}],{duration:0,fill:"forwards"})},enter:function(){return[e.div.animate([{opacity:0},{opacity:1}],{duration:Zn*e.timeScale,fill:"forwards"})]},leave:Ln(e)}},scaleDownCenter:function(e){return{setup:function(){e.div.animate([{opacity:0}],{duration:0,fill:"forwards"})},enter:function(){return[e.div.animate([{transform:"scale(1.3)"},{transform:"scale(1)",opacity:1}],{duration:Zn*e.timeScale,easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",fill:"forwards"})]},leave:Ln(e)}},scaleUpCenter:function(e){return{setup:function(){e.div.animate([{opacity:0}],{duration:0,fill:"forwards"})},enter:function(){return[e.div.animate([{transform:"scale(0.9)"},{transform:"scale(1)",opacity:1}],{duration:Zn*e.timeScale,easing:"cubic-bezier(0.39, 0.57, 0.56, 1.00)",fill:"forwards"})]},leave:Ln(e)}},slideTop:function(e){return{setup:function(){e.div.animate([{opacity:0}],{duration:0,fill:"forwards"})},enter:function(){return[e.div.animate([{transform:"translateY(30px)"},{transform:"translateY(0px)",opacity:1}],{duration:Zn*e.timeScale,easing:"cubic-bezier(0.16, 0.84, 0.44, 1.00)",fill:"forwards"})]},leave:Ln(e)}},slideBottom:function(e){return{setup:function(){e.div.animate([{opacity:0}],{duration:0,fill:"forwards"})},enter:function(){return[e.div.animate([{transform:"translateY(-30px)"},{transform:"translateY(0px)",opacity:1}],{duration:Zn*e.timeScale,easing:"cubic-bezier(0.16, 0.84, 0.44, 1.00)",fill:"forwards"})]},leave:Ln(e)}},kenBurns:function(e){return{setup:function(){e.div.animate([{transform:"scale(1)",opacity:1,transformOrigin:"50% 50%"}],{duration:0,fill:"forwards"})},enter:function(){return[e.div.animate([{transform:"scale(1)",opacity:1,transformOrigin:"50% 50%"},{transform:"scale(1.05)",opacity:1,transformOrigin:"50% 50%"}],{duration:6e3*e.timeScale,easing:"ease-in-out",fill:"forwards"})]},leave:function(){return[e.div.animate([{opacity:1,transform:"scale(1)",transformOrigin:"50% 50%"}],{duration:Zn*e.timeScale,fill:"forwards"})]}}},kenBurnsStrong:function(e){return{setup:function(){e.div.animate([{transform:"scale(1)",opacity:1,transformOrigin:"50% 50%"}],{duration:0,fill:"forwards"})},enter:function(){return[e.div.animate([{transform:"scale(1)",opacity:1,transformOrigin:"50% 50%"},{transform:"scale(1.1)",opacity:1,transformOrigin:"50% 50%"}],{duration:6e3*e.timeScale,easing:"ease-in-out",fill:"forwards"})]},leave:function(){return[e.div.animate([{opacity:1,transform:"scale(1)",transformOrigin:"50% 50%"}],{duration:Zn*e.timeScale,fill:"forwards"})]}}},slideLeft:function(e){return{setup:function(){e.div.animate([{opacity:0}],{duration:0,fill:"forwards"})},enter:function(){return[e.div.animate([{transform:"translateX(30px)",opacity:0},{transform:"translateX(0px)",opacity:1}],{duration:Zn*e.timeScale,easing:"cubic-bezier(0.16, 0.84, 0.44, 1.00)",fill:"forwards"})]},leave:Ln(e)}},slideRight:function(e){return{setup:function(){e.div.animate([{opacity:0}],{duration:0,fill:"forwards"})},enter:function(){return[e.div.animate([{transform:"translateX(-30px)",opacity:0},{transform:"translateX(0px)",opacity:1}],{duration:Zn*e.timeScale,easing:"cubic-bezier(0.16, 0.84, 0.44, 1.00)",fill:"forwards"})]},leave:Ln(e)}},verticalScaleTop:function(e){return{setup:function(){e.div.animate([{opacity:0}],{duration:0,fill:"forwards"})},enter:function(){return[e.div.animate([{transform:"scaleY(0)",transformOrigin:"50% 100%",opacity:0},{transform:"scaleY(1)",transformOrigin:"50% 100%",opacity:1}],{duration:Zn*e.timeScale,easing:"cubic-bezier(.82,.03,.55,1.14)",fill:"forwards"})]},leave:Ln(e)}},verticalScaleCenter:function(e){return{setup:function(){e.div.animate([{opacity:0,transformOrigin:"center center"}],{duration:0,fill:"forwards"})},enter:function(){return[e.div.animate([{transform:"scaleY(0)",opacity:0},{transform:"scaleY(1)",opacity:1}],{duration:Zn*e.timeScale,easing:"cubic-bezier(.82,.03,.55,1.14)",fill:"forwards"})]},leave:Ln(e)}},verticalScaleBottom:function(e){return{setup:function(){e.div.animate([{opacity:0}],{duration:0,fill:"forwards"})},enter:function(){return[e.div.animate([{transform:"scaleY(0)",transformOrigin:"50% 0%",opacity:0},{transform:"scaleY(1)",transformOrigin:"50% 0%",opacity:1}],{duration:Zn*e.timeScale,easing:"cubic-bezier(.82,.03,.55,1.14)",fill:"forwards"})]},leave:Ln(e)}},horizontalScaleLeft:function(e){return{setup:function(){e.div.animate([{opacity:0}],{duration:0,fill:"forwards"})},enter:function(){return[e.div.animate([{transform:"scaleX(0)",transformOrigin:"100% 50%",opacity:0},{transform:"scaleX(1)",transformOrigin:"100% 50%",opacity:1}],{duration:Zn*e.timeScale,easing:"cubic-bezier(.82,.03,.55,1.14)",fill:"forwards"})]},leave:Ln(e)}},horizontalScaleCenter:function(e){return{setup:function(){e.div.animate([{opacity:0,transformOrigin:"center center"}],{duration:0,fill:"forwards"})},enter:function(){return[e.div.animate([{transform:"scaleX(0)",opacity:0},{transform:"scaleX(1)",opacity:1}],{duration:Zn*e.timeScale,easing:"cubic-bezier(.82,.03,.55,1.14)",fill:"forwards"})]},leave:Ln(e)}},horizontalScaleRight:function(e){return{setup:function(){e.div.animate([{opacity:0}],{duration:0,fill:"forwards"})},enter:function(){return[e.div.animate([{transform:"scaleX(0)",transformOrigin:"0% 50%",opacity:0},{transform:"scaleX(1)",transformOrigin:"0% 50%",opacity:1}],{duration:Zn*e.timeScale,easing:"cubic-bezier(.82,.03,.55,1.14)",fill:"forwards"})]},leave:Ln(e)}},typewriterFadeIn:function(e){return{setup:function(){var t,n=In(Dn(e.div));try{for(n.s();!(t=n.n()).done;)t.value.animate([{opacity:0}],{duration:0,fill:"forwards"})}catch(e){n.e(e)}finally{n.f()}},enter:function(){for(var t=Dn(e.div),n=[],r=0;r<t.length;r++){var i=t[r].animate([{opacity:0},{opacity:1}],{delay:30*r*e.timeScale,duration:300*e.timeScale,fill:"forwards"});n.push(i)}return n},leave:function(){var t,n=[],r=In(Dn(e.div));try{for(r.s();!(t=r.n()).done;){var i=t.value.animate([{opacity:1},{opacity:0}],{duration:Zn*e.timeScale,fill:"forwards"});n.push(i)}}catch(e){r.e(e)}finally{r.f()}return n}}},typewriterScaleDown:function(e){return{setup:function(){var t,n=In(Dn(e.div));try{for(n.s();!(t=n.n()).done;)t.value.animate([{opacity:0}],{duration:0,fill:"forwards"})}catch(e){n.e(e)}finally{n.f()}},enter:function(){for(var t=Dn(e.div),n=[],r=0;r<t.length;r++){var i=t[r].animate([{transform:"scale(1.3)"},{transform:"scale(1)",opacity:1}],{delay:30*r*e.timeScale,duration:300*e.timeScale,easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",fill:"forwards"});n.push(i)}return n},leave:function(){var t,n=[],r=In(Dn(e.div));try{for(r.s();!(t=r.n()).done;){var i=t.value.animate([{opacity:1},{opacity:0}],{duration:Zn*e.timeScale,fill:"forwards"});n.push(i)}}catch(e){r.e(e)}finally{r.f()}return n}}},typewriterExpandLeft:function(e){return{setup:function(){var t,n=In(Dn(e.div));try{for(n.s();!(t=n.n()).done;)t.value.animate([{opacity:0,transformOrigin:"center left",transformStyle:"preserve-3d",perspective:"10000px"}],{duration:0,fill:"forwards"})}catch(e){n.e(e)}finally{n.f()}},enter:function(){for(var t=Dn(e.div),n=[],r=0;r<t.length;r++){var i=t[r].animate([{transform:"rotateY(90deg)"},{transform:" rotateY(0deg);",opacity:1}],{delay:30*r*e.timeScale,duration:300*e.timeScale,easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",fill:"forwards"});n.push(i)}return n},leave:function(){var t,n=[],r=In(Dn(e.div));try{for(r.s();!(t=r.n()).done;){var i=t.value.animate([{opacity:1},{opacity:0}],{duration:Zn,fill:"forwards"});n.push(i)}}catch(e){r.e(e)}finally{r.f()}return n}}},phaserLeft:function(e){return{setup:function(){e.div.animate([{opacity:0,transformOrigin:"100% 50%"}],{duration:0,fill:"forwards"})},enter:function(){return[e.div.animate([{offset:0,transform:"scale(10, 0.1) translateX(-300px)",transformOrigin:"100% 50%",opacity:0},{offset:.5,transform:"scale(2, 0.1) translateX(30px)",transformOrigin:"100% 50%",opacity:.6},{offset:.65,transform:"scale(0.6, 0.9) translateX(0px)",transformOrigin:"100% 50%",opacity:1},{offset:1,transform:"scale(1, 1)",transformOrigin:"100% 50%",opacity:1}],{duration:900*e.timeScale,easing:"ease-out",fill:"forwards"})]},leave:Ln(e)}},phaserRight:function(e){return{setup:function(){e.div.animate([{opacity:0,transformOrigin:"100% 50%"}],{duration:0,fill:"forwards"})},enter:function(){return[e.div.animate([{offset:0,transform:"scale(10, 0.1) translateX(300px)",transformOrigin:"0% 50%",opacity:0},{offset:.5,transform:"scale(2, 0.1) translateX(-30px)",transformOrigin:"0% 50%",opacity:.6},{offset:.65,transform:"scale(0.6, 0.9) translateX(0px)",transformOrigin:"0% 50%",opacity:1},{offset:1,transform:"scale(1, 1)",transformOrigin:"0% 50%",opacity:1}],{duration:900*e.timeScale,easing:"ease-out",fill:"forwards"})]},leave:Ln(e)}},flyInBottomCenter:function(e){var t,n,r,i,o=(t={top:1,left:.5},n=e.div.getBoundingClientRect(),r=window.innerHeight*t.top,i=window.innerWidth*t.left,{top:r-n.top,left:i-n.left});return{setup:function(){e.div.animate([{transform:"none",opacity:0}],{duration:0,fill:"forwards"})},enter:function(){return[e.div.animate([{transform:"translate(".concat(o.left,"px, ").concat(o.top,"px) scale(0.1)"),opacity:0},{transform:"translate(0px, 0px) scale(1)",opacity:1}],{duration:Zn*e.timeScale,easing:"ease-out",fill:"forwards"})]},leave:Ln(e)}},flipInBottom:function(e){return{setup:function(){e.div.animate([{transform:"scale(1.0) rotateZ(0deg) rotateY(0deg) rotateX(0deg)",opacity:0,transformOrigin:"50% 50%;"}],{duration:0,fill:"forwards"})},enter:function(){return[e.div.animate([{transform:"scale(3.0) rotateZ(30deg) rotateY(30deg) rotateX(-180deg)",transformOrigin:"-40vh 16vh",opacity:0},{transform:"scale(1.0) rotateZ(0deg) rotateY(0deg) rotateX(0deg)",transformOrigin:"-40vh 16vh",opacity:1}],{duration:696*e.timeScale,easing:"ease-out",fill:"forwards"})]},leave:function(){return[e.div.animate([{opacity:0,transform:"scale(1) rotateZ(0deg) rotateY(0deg) rotateX(0deg)",transformOrigin:"50% 50%"}],{duration:Zn*e.timeScale,fill:"forwards"})]}}}},Tn=s.mark(Nn),Rn=s.mark(Vn),Mn=s.mark(Bn);function qn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Fn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function Fn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nn(e,t){var n,r;return s.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!(t.player.pageTransition.duration>0)){i.next=7;break}return i.delegateYield((0,d.Ys)(Pt),"t0",2);case 2:if(!i.t0){i.next=6;break}return i.delegateYield((0,d.gw)(t.player.pageTransition.duration*t.player.animations.timeScale),"t1",5);case 5:return i.delegateYield((0,d.gz)(E()),"t2",6);case 6:return i.delegateYield((0,d.gw)(50),"t3",7);case 7:n=qn(e),i.prev=8,n.s();case 10:if((r=n.n()).done){i.next=16;break}if(!r.value.enter()){i.next=14;break}return i.delegateYield((0,d.gw)(t.player.animations.enterTimeGap*t.player.animations.timeScale),"t4",14);case 14:i.next=10;break;case 16:i.next=21;break;case 18:i.prev=18,i.t5=i.catch(8),n.e(i.t5);case 21:return i.prev=21,n.f(),i.finish(21);case 24:return i.delegateYield((0,d.qn)(R.toString()),"t6",25);case 25:case"end":return i.stop()}}),Tn,null,[[8,18,21,24]])}function Vn(){var e,t,n,r,i,o,a,c,l,u,f,p,g,m;return s.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.delegateYield((0,d.Ys)(Xt),"t0",1);case 1:return e=s.t0,s.delegateYield((0,d.Ys)(xt),"t1",3);case 3:if(t=s.t1,e){s.next=6;break}return s.abrupt("return");case 6:if(n=Ft(e),e.kind!==Je.Question){s.next=15;break}return s.delegateYield((0,d.Ys)(an),"t2",9);case 9:r=s.t2,i=r.find((function(t){return t&&t.pageId===e.id})),o=i.answers,a=o.map((function(e){return e.step.cid})),c=n.findIndex((function(e){return"c"===e.t&&a.includes(e.cid)})),l=a.map((function(e){return n.find((function(t){return"c"===t.t&&t.cid===e}))})).filter((function(e){return e})),n.splice.apply(n,[c,o.length].concat((0,_.Z)(l)));case 15:u=n.map((function(e){var n=e.ref.current;if(n){var r=An[e.a];if(r)return r({div:n,timeScale:t.player.animations.timeScale})}})).filter((function(e){return e})),f=qn(u);try{for(f.s();!(p=f.n()).done;)p.value.setup()}catch(e){f.e(e)}finally{f.f()}return s.delegateYield((0,d.S3)({enter:Nn(u,t),cancel:(0,d.qn)(R.toString())}),"t3",19);case 19:g=qn(u);try{for(g.s();!(m=g.n()).done;)m.value.leave()}catch(e){g.e(e)}finally{g.f()}case 21:case"end":return s.stop()}}),Rn)}function Bn(){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield((0,d.ib)(R.toString(),Vn),"t0",1);case 1:case"end":return e.stop()}}),Mn)}var Hn=n(3252),Qn=s.mark(Jn),$n=s.mark(Gn),Xn=(0,Hn.ZP)("imc:blish-player-pager:navigation"),Un=function(e){return e.kind===Je.Image||e.kind===Je.ImageCaption||e.kind===Je.ImageLabel||e.kind===Je.MobileImageLabel},_n=function(e){return e.kind===Je.TestStart||e.kind===Je.TestResult||e.kind===Je.Question&&void 0!==e.testTopic},Wn=function(e,t){return!(Un(t)&&Un(e)||_n(t)&&_n(e))};function Jn(e){var t,n,r,i,o,a,c,l,u,f,p,g,m,b,h,v,y;return s.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.delegateYield((0,d.Ys)(tn),"t0",1);case 1:if(!s.t0){s.next=4;break}return s.abrupt("return");case 4:return s.delegateYield((0,d.Ys)(Zt),"t1",5);case 5:return t=s.t1,s.delegateYield((0,d.Ys)(zt),"t2",7);case 7:return n=s.t2,s.delegateYield((0,d.Ys)(Vt),"t3",9);case 9:if(r=s.t3,i=void 0,e.payload.direction&&(i=n+e.payload.direction),void 0===e.payload.index||i||(i=e.payload.index),e.payload.cid&&!i&&(i=r[e.payload.cid].pageIndex),void 0!==i&&i!==n){s.next=16;break}return s.abrupt("return");case 16:return s.delegateYield((0,d.Ys)(ln),"t4",17);case 17:return(o=s.t4).cid&&o.resultCid&&o.active&&(a=t[n].id,c=e.payload.direction||1,l=o.questionPageIds,u=o.questionPageIds.findIndex((function(e){return e===a})),i=-1===u?c>0?r[l[0]].pageIndex:r[l[l.length-1]].pageIndex:(f=u+c)>=0&&f<l.length?r[l[f]].pageIndex:c>0?r[o.resultCid].pageIndex:r[o.cid].pageIndex),s.delegateYield((0,d.Ys)(Kt),"t5",20);case 20:return p=s.t5,s.delegateYield((0,d.Ys)(_t),"t6",22);case 22:if(g=s.t6,ct(g,p,i,r,o)){s.next=25;break}return s.abrupt("return");case 25:if(!(i>t.length-1)){s.next=31;break}return s.delegateYield((0,d.gz)($(void 0)),"t7",27);case 27:return s.delegateYield((0,d.gz)(X(!0)),"t8",28);case 28:return s.delegateYield((0,d.gz)(q()),"t9",29);case 29:s.next=40;break;case 31:return s.delegateYield((0,d.gz)(X(!1)),"t10",32);case 32:return m=t[i],b=et(m),0===(h=b.map((function(e){return e.cid}))).length&&(h=(0,_.Z)(tt(m))),v=h[0],y=t[n],Xn("navigate to page ".concat(i," ").concat(m.kind)),s.delegateYield((0,d.gz)(R({index:i,newActiveCid:v,withTransitionAnimation:Wn(m,y)})),"t11",40);case 40:case"end":return s.stop()}}),Qn)}function Gn(){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield((0,d.Fm)(k.toString(),Jn),"t0",1);case 1:case"end":return e.stop()}}),$n)}var Kn=n(9110),er=s.mark(or);function tr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return nr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nr(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function nr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var rr=function(e){return new Promise((function(t,n){function r(){e.removeEventListener("ended",r),e.removeEventListener("error",i),t()}function i(t){e.removeEventListener("ended",r),e.removeEventListener("error",i),n(t.error)}e.addEventListener("ended",r,!1),e.addEventListener("error",i,!1)}))},ir=function(e){return new Promise((function(t,n){function r(){e.removeEventListener("loadeddata",r),e.removeEventListener("error",i),t()}function i(t){e.removeEventListener("loadeddata",r),e.removeEventListener("error",i),n(t.error)}e.addEventListener("loadeddata",r,!1),e.addEventListener("error",i,!1)}))};function or(e){var t,n,r,i,o,a,c,l,u,f,p,g;return s.wrap((function(m){for(;;)switch(m.prev=m.next){case 0:t=[],n=tr(e);try{for(n.s();!(r=n.n()).done;){i=r.value,(o=i.box.verbalization)&&t.push(o),a=tr(i.children);try{for(a.s();!(c=a.n()).done;)l=c.value,(u=l.box.verbalization)&&t.push(u)}catch(e){a.e(e)}finally{a.f()}}}catch(e){n.e(e)}finally{n.f()}f=s.mark((function e(){var t,n,r,i;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=g[p],!(n=(0,Kn.Vh)(t.reference))){e.next=32;break}return(r=document.createElement("source")).src=n,r.type="audio/mpeg",(i=new Audio).preload="auto",i.autoplay=!0,i.appendChild(r),e.prev=10,e.delegateYield((0,d.RE)((function(){return i.play()})),"t0",12);case 12:return e.delegateYield((0,d.RE)(rr,i),"t1",13);case 13:return e.delegateYield((0,d.gw)(jn),"t2",14);case 14:e.next=27;break;case 16:return e.prev=16,e.t3=e.catch(10),e.prev=18,e.delegateYield((0,d.RE)(ir,i),"t4",20);case 20:return e.delegateYield((0,d.RE)((function(){return i.play()})),"t5",21);case 21:return e.delegateYield((0,d.RE)(rr,i),"t6",22);case 22:return e.delegateYield((0,d.gw)(jn),"t7",23);case 23:e.next=27;break;case 25:e.prev=25,e.t8=e.catch(18);case 27:return e.prev=27,i.pause(),i.removeChild(r),i.load(),e.finish(27);case 32:case"end":return e.stop()}}),e,null,[[10,16,27,32],[18,25]])})),p=0,g=t;case 5:if(!(p<g.length)){m.next=10;break}return m.delegateYield(f(),"t0",7);case 7:p++,m.next=5;break;case 10:case"end":return m.stop()}}),er)}var ar=s.mark(br),cr=s.mark(vr),lr=s.mark(yr),ur=s.mark(wr),sr=s.mark(kr),dr=s.mark(Or),fr=s.mark(xr),pr=s.mark(Er);function gr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return mr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mr(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function mr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function br(e){var t,n,r,i,o,a,c,l,u;return s.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.delegateYield((0,d.Ys)(Vt),"t0",1);case 1:if(t=s.t0,(n=t[e.payload].page).kind!==Je.Question){s.next=27;break}return s.delegateYield((0,d.Ys)(an),"t1",5);case 5:if(r=s.t1,i=r.find((function(e){return e&&e.question.step.cid===n.question.cid})),o=i.question,a=i.answers,o.submitted){s.next=27;break}return s.delegateYield((0,d.gz)(T({storeItem:{chosen:!t[e.payload].storeItem.chosen,cid:e.payload}})),"t2",9);case 9:if(!o.isSingleChoice){s.next=27;break}c=gr(a),s.prev=11,c.s();case 13:if((l=c.n()).done){s.next=19;break}if(!(u=l.value).selected||u.step.cid===e.payload){s.next=17;break}return s.delegateYield((0,d.gz)(T({storeItem:{chosen:!1,cid:u.step.cid}})),"t3",17);case 17:s.next=13;break;case 19:s.next=24;break;case 21:s.prev=21,s.t4=s.catch(11),c.e(s.t4);case 24:return s.prev=24,c.f(),s.finish(24);case 27:case"end":return s.stop()}}),ar,null,[[11,21,24,27]])}var hr="question/SUBMIT_PROCESSED";function vr(e){var t,n,r,i,o,a,c,l,u,f,p;return s.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.delegateYield((0,d.Ys)(Vt),"t0",1);case 1:if(t=s.t0,n=t[e.payload].page,r=t[e.payload].step,n.kind!==Je.Question){s.next=40;break}if(void 0===n.testTopic){s.next=7;break}return s.abrupt("return");case 7:return s.delegateYield((0,d.Ys)(an),"t1",8);case 8:if(i=s.t1,o=i.find((function(e){return e&&e.question.step.cid===n.question.cid})),a=o.question,c=o.answers,a.submitted){s.next=40;break}if(l=at(r),!(a.correct||a.attempts>=l)){s.next=38;break}return s.delegateYield((0,d.gz)(T({storeItem:{chosen:!0,progress:255,cid:a.step.cid}})),"t2",14);case 14:if(!n.image){s.next=16;break}return s.delegateYield((0,d.gz)(T({storeItem:{progress:255,cid:n.image.cid}})),"t3",16);case 16:u=gr(c),s.prev=17,u.s();case 19:if((f=u.n()).done){s.next=24;break}return p=f.value,s.delegateYield((0,d.gz)(T({storeItem:{progress:255,cid:p.step.cid}})),"t4",22);case 22:s.next=19;break;case 24:s.next=29;break;case 26:s.prev=26,s.t5=s.catch(17),u.e(s.t5);case 29:return s.prev=29,u.f(),s.finish(29);case 32:if(!n.feedbackCorrect){s.next=34;break}return s.delegateYield((0,d.gz)(T({storeItem:{progress:255,cid:n.feedbackCorrect.cid}})),"t6",34);case 34:if(!n.feedbackWrong){s.next=36;break}return s.delegateYield((0,d.gz)(T({storeItem:{progress:255,cid:n.feedbackWrong.cid}})),"t7",36);case 36:s.next=39;break;case 38:return s.delegateYield((0,d.gz)(T({storeItem:{chosen:!0,cid:a.step.cid}})),"t8",39);case 39:return s.delegateYield((0,d.gz)({type:hr}),"t9",40);case 40:case"end":return s.stop()}}),cr,null,[[17,26,29,32]])}function yr(e){var t,n,r,i,o,a,c,l,u;return s.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.delegateYield((0,d.Ys)(Vt),"t0",1);case 1:if(t=s.t0,(n=t[e.payload].page).kind!==Je.Question){s.next=33;break}if(void 0===n.testTopic){s.next=6;break}return s.abrupt("return");case 6:return s.delegateYield((0,d.Ys)(an),"t1",7);case 7:if(r=s.t1,i=r.find((function(e){return e&&e.question.step.cid===n.question.cid})),o=i.question,a=i.answers,!o.submitted){s.next=33;break}return s.delegateYield((0,d.gz)(T({storeItem:{chosen:!1,progress:0,cid:o.step.cid}})),"t2",11);case 11:if(!n.image){s.next=13;break}return s.delegateYield((0,d.gz)(T({storeItem:{progress:0,cid:n.image.cid}})),"t3",13);case 13:c=gr(a),s.prev=14,c.s();case 16:if((l=c.n()).done){s.next=21;break}return u=l.value,s.delegateYield((0,d.gz)(T({storeItem:{chosen:!1,progress:0,cid:u.step.cid}})),"t4",19);case 19:s.next=16;break;case 21:s.next=26;break;case 23:s.prev=23,s.t5=s.catch(14),c.e(s.t5);case 26:return s.prev=26,c.f(),s.finish(26);case 29:if(!n.feedbackCorrect){s.next=31;break}return s.delegateYield((0,d.gz)(T({storeItem:{progress:0,cid:n.feedbackCorrect.cid}})),"t6",31);case 31:if(!n.feedbackWrong){s.next=33;break}return s.delegateYield((0,d.gz)(T({storeItem:{progress:0,cid:n.feedbackWrong.cid}})),"t7",33);case 33:case"end":return s.stop()}}),lr,null,[[14,23,26,29]])}function wr(){var e,t,n,r,i,o,a,c,l,u,f,p,g,m;return s.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.delegateYield((0,d.Ys)(Xt),"t0",1);case 1:if(e=s.t0){s.next=4;break}return s.abrupt("return");case 4:if(e.kind!==Je.Question){s.next=27;break}if(void 0===e.testTopic){s.next=7;break}return s.abrupt("return");case 7:return s.delegateYield((0,d.Ys)(an),"t1",8);case 8:t=s.t1,n=t.find((function(t){return t&&t.question.step.cid===e.question.cid})),r=n.question,i=n.answers,o=[r.step],a=gr(i);try{for(a.s();!(c=a.n()).done;)l=c.value,o.push(l.step)}catch(e){a.e(e)}finally{a.f()}return s.delegateYield((0,d.S3)({task:or(o),cancel:(0,d.qn)(hr)}),"t2",14);case 14:return s.delegateYield((0,d.Ys)(an),"t3",16);case 16:if(u=s.t3,f=u.find((function(t){return t&&t.question.step.cid===e.question.cid})),p=f.feedbackState,g=f.feedbackCorrect,m=f.feedbackWrong,"correct"!==p||!g){s.next=22;break}return s.delegateYield(or([g.step]),"t4",20);case 20:s.next=24;break;case 22:if("wrong"!==p||!m){s.next=24;break}return s.delegateYield(or([m.step]),"t5",24);case 24:return s.delegateYield((0,d.qn)(hr),"t6",25);case 25:s.next=14;break;case 27:case"end":return s.stop()}}),ur)}function kr(){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield((0,d.Fm)(O.toString(),br),"t0",1);case 1:case"end":return e.stop()}}),sr)}function Or(){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield((0,d.Fm)(B.toString(),vr),"t0",1);case 1:case"end":return e.stop()}}),dr)}function xr(){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield((0,d.Fm)(x.toString(),yr),"t0",1);case 1:case"end":return e.stop()}}),fr)}function Er(){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield((0,d.$6)([(0,d.RE)(kr),(0,d.RE)(Or),(0,d.RE)(xr)]),"t0",1);case 1:case"end":return e.stop()}}),pr)}var Pr=n(3099);function jr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jr(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Cr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cr(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function Cr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ir=s.mark(Zr),Yr=s.mark(Lr);function Zr(){var e,t,n,r,i,o,a;return s.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.delegateYield((0,d.Ys)(Xt),"t0",1);case 1:if(e=c.t0){c.next=4;break}return c.abrupt("return");case 4:return c.delegateYield((0,d.Ys)(Vt),"t1",5);case 5:return t=c.t1,c.delegateYield((0,d.Ys)(St),"t2",7);case 7:if(n=c.t2,e.kind!==Je.ImageLabel){c.next=18;break}if(r=e.balls.find((function(e){return e.label.cid===n})),i=e.caption,r||!i){c.next=13;break}return c.delegateYield((0,d.S3)({task:or([t[i.cid].step]),cancel:(0,d.qn)(R.toString())}),"t3",13);case 13:if(!r){c.next=18;break}return o=t[r.label.cid].step,a=void 0,r.description&&(a=t[r.description.cid].step),c.delegateYield((0,d.S3)({task:or(a?[o,a]:[o]),cancel:(0,d.qn)(R.toString())}),"t4",18);case 18:case"end":return c.stop()}}),Ir)}function Lr(){var e,t,n,r,i,o,a,c,l,u,f,p,g,m,b,h,v,y,w,k,O,x,E,P,j,z,S;return s.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.delegateYield((0,d.Ys)(Xt),"t0",1);case 1:if(e=s.t0){s.next=4;break}return s.abrupt("return");case 4:return s.delegateYield((0,d.Ys)(Vt),"t1",5);case 5:return t=s.t1,s.delegateYield((0,d.Ys)(St),"t2",7);case 7:if(n=s.t2,e.kind!==Je.ImageLabel){s.next=69;break}if(r=new Map([]),i=e.balls.find((function(e){return e.label.cid===n})),o=e.caption,a=e.image,n!==a.cid){s.next=31;break}c=Sr(e.balls),s.prev=14,c.s();case 16:if((l=c.n()).done){s.next=23;break}if(u=l.value,f=t[u.label.cid],p=f.step,g=f.storeItem,p.box.duration||255===g.progress){s.next=21;break}return s.delegateYield((0,d.gz)(T({storeItem:zr(zr({},g),{},{progress:255})})),"t3",21);case 21:s.next=16;break;case 23:s.next=28;break;case 25:s.prev=25,s.t4=s.catch(14),c.e(s.t4);case 28:return s.prev=28,c.f(),s.finish(28);case 31:if(!o){s.next=35;break}if(255===(m=t[o.cid].storeItem).progress){s.next=35;break}return s.delegateYield((0,d.gz)(T({storeItem:zr(zr({},m),{},{progress:255})})),"t5",35);case 35:r.set(a.cid,!1),i&&(r.set(i.label.cid,!0),i.description&&r.set(i.description.cid,!0)),b=Sr(r),s.prev=38,b.s();case 40:if((h=b.n()).done){s.next=61;break}if(v=(0,Pr.Z)(h.value,2),y=v[0],w=v[1],k=t[y],O=k.step.box,x=k.storeItem,E=x.progress||0,P=E,j=Date.now(),255!==P){s.next=48;break}return s.abrupt("continue",59);case 48:if(O.duration&&0!==O.duration&&!w){s.next=51;break}return s.delegateYield((0,d.gz)(T({storeItem:zr(zr({},x),{},{progress:255})})),"t6",50);case 50:return s.abrupt("continue",59);case 51:if(!(P<255)){s.next=59;break}return s.delegateYield((0,d.gw)(500),"t7",53);case 53:return z=Date.now()-j,S=Math.round(z/1e3/(O.duration||1)*255),P=Math.min(E+S,255),s.delegateYield((0,d.gz)(T({storeItem:zr(zr({},x),{},{progress:P})})),"t8",57);case 57:s.next=51;break;case 59:s.next=40;break;case 61:s.next=66;break;case 63:s.prev=63,s.t9=s.catch(38),b.e(s.t9);case 66:return s.prev=66,b.f(),s.finish(66);case 69:case"end":return s.stop()}}),Yr,null,[[14,25,28,31],[38,63,66,69]])}function Dr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ar(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ar(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function Ar(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Tr=s.mark(Nr),Rr=s.mark(Vr),Mr=s.mark(Br),qr=s.mark(Hr),Fr=s.mark(Qr);function Nr(e){var t,n,r;return s.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.delegateYield((0,d.Ys)(bn),"t0",1);case 1:return t=i.t0,n=t.find((function(t){return t&&t.pageId===e})),r=n.cards,i.abrupt("return",r);case 4:case"end":return i.stop()}}),Tr)}function Vr(){var e,t,n,r,i,o,a,c,l,u;return s.wrap((function(f){for(;;)switch(f.prev=f.next){case 0:return f.delegateYield((0,d.Ys)(Xt),"t0",1);case 1:if(e=f.t0){f.next=4;break}return f.abrupt("return");case 4:return f.delegateYield((0,d.Ys)(Vt),"t1",5);case 5:if(t=f.t1,e.kind!==Je.Cards){f.next=21;break}return f.delegateYield(Nr(e.id),"t2",8);case 8:n=f.t2,r=(0,_.Z)(e.prefix),i=Dr(n);try{for(i.s();!(o=i.n()).done;)(a=o.value).front&&a.front.text&&r.push(a.front.text)}catch(e){i.e(e)}finally{i.f()}return f.delegateYield((0,d.S3)({task:or(r.map((function(e){return t[e.cid].step}))),cancel:(0,d.qn)([P.toString(),R.toString(),q.toString()])}),"t3",13);case 13:c=f.t3,l=void 0,c.cancel&&c.cancel.type===P.toString()&&(l=c.cancel),u=s.mark((function n(){var r,i,o,a,c;return s.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==l){n.next=4;break}return n.next=3,(0,d.qn)(P.toString());case 3:l=n.sent;case 4:return r=l.payload,l=void 0,n.delegateYield((0,d.gw)(20),"t0",7);case 7:return n.delegateYield(Nr(e.id),"t1",8);case 8:if(i=n.t1,!(o=i.find((function(e){return e.cid===r})))){n.next=17;break}if(!(a=o.reversed?o.back:o.front)){n.next=17;break}if(!a.text){n.next=17;break}return n.delegateYield((0,d.S3)({task:or([t[a.text.cid].step]),cancel:(0,d.qn)([P.toString(),R.toString(),q.toString()])}),"t2",15);case 15:(c=n.t2).cancel&&c.cancel.type===P.toString()&&(l=c.cancel);case 17:case"end":return n.stop()}}),n)}));case 17:return f.delegateYield(u(),"t4",19);case 19:f.next=17;break;case 21:case"end":return f.stop()}}),Rr)}function Br(e){var t,n,r,i;return s.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.delegateYield((0,d.Ys)(Vt),"t0",1);case 1:if(t=o.t0,(n=t[e.payload].page).kind!==Je.Cards){o.next=17;break}return o.delegateYield(Nr(n.id),"t1",5);case 5:if(r=o.t1,!(i=r.find((function(t){return t.cid===e.payload})))){o.next=17;break}return o.delegateYield((0,d.gz)(T({storeItem:{chosen:!t[i.cid].storeItem.chosen,progress:255,cid:e.payload}})),"t2",9);case 9:if(!i.front){o.next=12;break}if(!i.front.img){o.next=12;break}return o.delegateYield((0,d.gz)(T({storeItem:{progress:255,cid:i.front.img.cid}})),"t3",12);case 12:if(!i.back){o.next=17;break}if(!i.back.img){o.next=15;break}return o.delegateYield((0,d.gz)(T({storeItem:{progress:255,cid:i.back.img.cid}})),"t4",15);case 15:if(!i.back.text){o.next=17;break}return o.delegateYield((0,d.gz)(T({storeItem:{progress:255,cid:i.back.text.cid}})),"t5",17);case 17:case"end":return o.stop()}}),Mr)}function Hr(){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield((0,d.Fm)(P.toString(),Br),"t0",1);case 1:case"end":return e.stop()}}),qr)}function Qr(){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield((0,d.$6)([(0,d.RE)(Hr)]),"t0",1);case 1:case"end":return e.stop()}}),Fr)}var $r=s.mark(_r),Xr=s.mark(Wr),Ur=s.mark(Jr);function _r(){var e,t,n,r,i;return s.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.delegateYield((0,d.Ys)(en),"t0",1);case 1:return e=o.t0,o.delegateYield((0,d.Ys)(Xt),"t1",3);case 3:if((t=o.t1)&&e){o.next=6;break}return o.abrupt("return");case 6:if(t.kind!==Je.Question){o.next=9;break}return o.delegateYield((0,d.RE)(wr),"t2",8);case 8:case 11:case 14:return o.abrupt("return");case 9:if(t.kind!==Je.ImageLabel){o.next=12;break}return o.delegateYield((0,d.RE)(Zr),"t3",11);case 12:if(t.kind!==Je.Cards){o.next=15;break}return o.delegateYield((0,d.RE)(Vr),"t4",14);case 15:return o.delegateYield((0,d.Ys)(Ut),"t5",16);case 16:return n=o.t5,o.delegateYield((0,d.Ys)(Vt),"t6",18);case 18:return r=o.t6,i=n.map((function(e){return r[e].step})),o.delegateYield(or(i),"t7",21);case 21:case"end":return o.stop()}}),$r)}function Wr(){var e;return s.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield((0,d.Ys)(xt),"t0",1);case 1:return e=t.t0,t.delegateYield((0,d.gw)(Pn+e.player.pageTransition.duration),"t1",3);case 3:return t.delegateYield(_r(),"t2",4);case 4:case"end":return t.stop()}}),Xr)}function Jr(){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield((0,d.Fm)([R.toString(),F.toString(),A.toString()],s.mark((function e(t){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield((0,d.Ys)(Gt),"t0",1);case 1:if(e.t0){e.next=4;break}return e.delegateYield((0,d.S3)({task:(0,d.RE)(t.type===R.toString()?Wr:_r),cancel:(0,d.qn)(q.toString())}),"t1",4);case 4:case"end":return e.stop()}}),e)}))),"t0",1);case 1:case"end":return e.stop()}}),Ur)}var Gr=s.mark(ii),Kr=s.mark(oi);function ei(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ti(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ei(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ei(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ni(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ri(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ri(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function ri(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ii(){var e,t,n,r,i,o,a,c,l,u,f,p,g,m,b,h,v,y,w,k,O,x,E;return s.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.delegateYield((0,d.Ys)(Xt),"t0",1);case 1:if(e=s.t0){s.next=4;break}return s.abrupt("return");case 4:if(e.kind!==Je.Question){s.next=7;break}return s.delegateYield((0,d.RE)(Er),"t1",6);case 6:return s.abrupt("return");case 7:if(e.kind!==Je.ImageLabel){s.next=10;break}return s.delegateYield((0,d.RE)(Lr),"t2",9);case 9:return s.abrupt("return");case 10:if(e.kind!==Je.Video){s.next=12;break}return s.abrupt("return");case 12:return s.delegateYield((0,d.Ys)(Ut),"t3",13);case 13:return t=s.t3,s.delegateYield((0,d.Ys)(Vt),"t4",15);case 15:if(n=s.t4,r=new Map(t.map((function(e){return[e,!1]}))),e.kind===Je.Cards){i=ni(e.prefix);try{for(i.s();!(o=i.n()).done;)a=o.value,r.set(a.cid,!1)}catch(e){i.e(e)}finally{i.f()}c=ni(e.cards.filter((function(e){return null==e.back})));try{for(c.s();!(l=c.n()).done;)u=l.value,r.set(u.cid,!0),u.front&&(u.front.img&&r.set(u.front.img.cid,!1),u.front.text&&r.set(u.front.text.cid,!1))}catch(e){c.e(e)}finally{c.f()}}f=ni(r),s.prev=19,f.s();case 21:if((p=f.n()).done){s.next=45;break}if(g=(0,Pr.Z)(p.value,2),m=g[0],b=g[1],h=n[m],v=h.step.box,y=h.storeItem,w=y.progress||0,k=w,O=Date.now(),!b){s.next=30;break}return s.delegateYield((0,d.gz)(T({storeItem:ti(ti({},y),{},{progress:255})})),"t5",29);case 29:return s.abrupt("continue",43);case 30:if(255!==k){s.next=32;break}return s.abrupt("continue",43);case 32:if(v.duration&&0!==v.duration){s.next=35;break}return s.delegateYield((0,d.gz)(T({storeItem:ti(ti({},y),{},{progress:255})})),"t6",34);case 34:return s.abrupt("continue",43);case 35:if(!(k<255)){s.next=43;break}return s.delegateYield((0,d.gw)(500),"t7",37);case 37:return x=Date.now()-O,E=Math.round(x/1e3/(v.duration||1)*255),k=Math.min(w+E,255),s.delegateYield((0,d.gz)(T({storeItem:ti(ti({},y),{},{progress:k})})),"t8",41);case 41:s.next=35;break;case 43:s.next=21;break;case 45:s.next=50;break;case 47:s.prev=47,s.t9=s.catch(19),f.e(s.t9);case 50:return s.prev=50,f.f(),s.finish(50);case 53:case"end":return s.stop()}}),Gr,null,[[19,47,50,53]])}function oi(){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield((0,d.Fm)([R.toString(),A.toString()],ii),"t0",1);case 1:case"end":return e.stop()}}),Kr)}var ai=s.mark(li),ci=s.mark(ui);function li(){var e,t,n,r,i,o,a,c;return s.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.delegateYield((0,d.Ys)(gn),"t0",1);case 1:return e=l.t0,l.delegateYield((0,d.Ys)(St),"t1",3);case 3:if(!(t=l.t1)){l.next=8;break}return l.delegateYield((0,d.Ys)(Vt),"t2",6);case 6:n=l.t2,e=n[t].pageIndex;case 8:if(r=t){l.next=16;break}return l.delegateYield((0,d.Ys)(Zt),"t3",11);case 11:i=l.t3,o=i[e],a=et(o),c=a.map((function(e){return e.cid})),r=c[0];case 16:return l.delegateYield((0,d.gz)(R({index:e,newActiveCid:r,withTransitionAnimation:!1})),"t4",17);case 17:if(!(e>0)){l.next=22;break}return l.delegateYield((0,d.gw)(500),"t5",19);case 19:return l.delegateYield((0,d.gz)(M(!0)),"t6",20);case 20:return l.delegateYield((0,d.gw)(1e4),"t7",21);case 21:return l.delegateYield((0,d.gz)(M(!1)),"t8",22);case 22:case"end":return l.stop()}}),ai)}function ui(){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield((0,d.Fm)(N.toString(),li),"t0",1);case 1:case"end":return e.stop()}}),ci)}function si(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function di(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?si(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):si(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fi(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return pi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pi(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function pi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var gi=s.mark(Oi),mi=s.mark(xi),bi=s.mark(Ei),hi=s.mark(Pi),vi=s.mark(ji),yi=s.mark(zi),wi=s.mark(Si),ki=s.mark(Ci);function Oi(){var e,t,n;return s.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield((0,d.Ys)(Xt),"t0",1);case 1:if(e=r.t0){r.next=4;break}return r.abrupt("return");case 4:if(e.kind!==Je.Video){r.next=11;break}return r.delegateYield((0,d.Ys)(Ut),"t1",6);case 6:if(!((n=r.t1).length>1)){r.next=10;break}return console.warn("Video page with more than one step"),r.abrupt("return");case 10:t=n[0];case 11:return r.abrupt("return",t);case 12:case"end":return r.stop()}}),gi)}function xi(){var e;return s.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield((0,d.Ys)(Xt),"t0",1);case 1:if(e=t.t0){t.next=4;break}return t.abrupt("return");case 4:if(e.kind===Je.Video){t.next=6;break}return t.abrupt("return",void 0);case 6:return t.abrupt("return",e.subtitles);case 7:case"end":return t.stop()}}),mi)}function Ei(e){var t,n;return s.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield((0,d.fw)("injectedVideoPlayers"),"t0",1);case 1:return t=r.t0,n=t[e],r.abrupt("return",n);case 4:case"end":return r.stop()}}),bi)}function Pi(){var e,t,n,r,i,o,a,c,l,u,f,p,g,m,b,h,v,y,w,k,O,x,E,P,j;return s.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.delegateYield(Oi(),"t0",1);case 1:return e=s.t0,s.delegateYield((0,d.Ys)(Vt),"t1",3);case 3:return t=s.t1,s.delegateYield((0,d.fw)("injectedVideoPlayers"),"t2",5);case 5:for(n=s.t2,r=0,i=Object.entries(n);r<i.length;r++){o=(0,Pr.Z)(i[r],2),a=o[0],c=o[1];try{c&&parseInt(a)!==e&&c.pause()}catch(e){}}return s.delegateYield(xi(),"t3",8);case 8:if(!(l=s.t3)){s.next=27;break}u=fi(l),s.prev=11,u.s();case 13:if((f=u.n()).done){s.next=19;break}return p=f.value,g=t[p],s.delegateYield((0,d.gz)(T({storeItem:di(di({},g.storeItem),{},{progress:255})})),"t4",17);case 17:s.next=13;break;case 19:s.next=24;break;case 21:s.prev=21,s.t5=s.catch(11),u.e(s.t5);case 24:return s.prev=24,u.f(),s.finish(24);case 27:return s.delegateYield((0,d.gw)(Pn),"t6",28);case 28:if(void 0===e){s.next=67;break}return s.delegateYield(Ei(e),"t7",30);case 30:return m=s.t7,s.delegateYield((0,d.Ys)(Gt),"t8",32);case 32:if(b=s.t8,h=t[e],!(m&&h&&h.step.box.video)){s.next=67;break}if(!((h.step.box.duration||0)>1)){s.next=63;break}v=h.storeItem.progress||0,y=h.step.box.duration||h.step.box.video.reference.file.duration||1,w=y*(v/255);try{v<255&&m.currentTime(w),m.volume(b?0:1),m.play()}catch(e){}k=w,O=v;case 42:if(m.isDisposed()||!(v<255)){s.next=61;break}if(!((x=m.currentTime())&&x>0)){s.next=58;break}if(E=x/y,P=Math.max(0,Math.min(Math.round(255*E),255)),j=x-1>k,!(x>k)||j){s.next=55;break}if(!(P>O)){s.next=52;break}return s.delegateYield((0,d.gz)(T({storeItem:di(di({},h.storeItem),{},{progress:P})})),"t9",51);case 51:O=P;case 52:k=x,s.next=56;break;case 55:x>k&&j&&m.currentTime(k);case 56:if(!(O>=255)){s.next=58;break}return s.abrupt("break",61);case 58:return s.delegateYield((0,d.gw)(500),"t10",59);case 59:s.next=42;break;case 61:s.next=67;break;case 63:return m.volume(b?0:1),m.play(),s.delegateYield((0,d.gw)(1e3*(h.step.box.duration||0)),"t11",66);case 66:return s.delegateYield((0,d.gz)(T({storeItem:di(di({},h.storeItem),{},{progress:255})})),"t12",67);case 67:case"end":return s.stop()}}),hi,null,[[11,21,24,27]])}function ji(){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield((0,d.Fm)(R.toString(),Pi),"t0",1);case 1:case"end":return e.stop()}}),vi)}function zi(){var e,t,n;return s.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(Oi(),"t0",1);case 1:return e=r.t0,r.delegateYield((0,d.Ys)(Gt),"t1",3);case 3:if(t=r.t1,void 0===e){r.next=8;break}return r.delegateYield(Ei(e),"t2",6);case 6:if(n=r.t2)try{n.volume(t?0:1)}catch(e){}case 8:case"end":return r.stop()}}),yi)}function Si(){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield((0,d.Fm)([F.toString(),q.toString()],zi),"t0",1);case 1:case"end":return e.stop()}}),wi)}function Ci(){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield((0,d.$6)([(0,d.RE)(Si),(0,d.RE)(ji)]),"t0",1);case 1:case"end":return e.stop()}}),ki)}function Ii(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Yi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yi(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function Yi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Zi=s.mark(Ti),Li=s.mark(Ri),Di=s.mark(Mi),Ai=s.mark(qi);function Ti(){var e,t,n,r;return s.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.delegateYield((0,d.Ys)(ln),"t0",1);case 1:if(e=i.t0,t=e.attempt,n=e.cid,r=e.questionPageIds,void 0===n||!r.length){i.next=8;break}return i.delegateYield((0,d.gz)(T({storeItem:{cid:n,progress:t+1,chosen:!0}})),"t1",7);case 7:return i.delegateYield((0,d.gz)(k({direction:1})),"t2",8);case 8:case"end":return i.stop()}}),Zi)}function Ri(){var e,t,n;return s.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield((0,d.Ys)(ln),"t0",1);case 1:if(e=r.t0,t=e.attempt,void 0===(n=e.cid)){r.next=6;break}return r.delegateYield((0,d.gz)(T({storeItem:{cid:n,progress:t,chosen:!1}})),"t1",6);case 6:case"end":return r.stop()}}),Li)}function Mi(e){var t,n,r,i,o,a,c,l,u;return s.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.delegateYield((0,d.Ys)(Vt),"t0",1);case 1:if(t=s.t0,(n=t[e.payload].page).kind===Je.Question){s.next=5;break}return s.abrupt("return");case 5:if(void 0!==n.testTopic){s.next=7;break}return s.abrupt("return");case 7:return s.delegateYield((0,d.Ys)(an),"t1",8);case 8:if(r=s.t1,i=r.find((function(e){return e&&e.question.step.cid===n.question.cid})),o=i.question,a=i.answers,o.submitted){s.next=35;break}return s.delegateYield((0,d.gz)(T({storeItem:{chosen:!0,progress:255,cid:o.step.cid}})),"t2",12);case 12:if(!n.image){s.next=14;break}return s.delegateYield((0,d.gz)(T({storeItem:{progress:255,cid:n.image.cid}})),"t3",14);case 14:c=Ii(a),s.prev=15,c.s();case 17:if((l=c.n()).done){s.next=22;break}return u=l.value,s.delegateYield((0,d.gz)(T({storeItem:{progress:255,cid:u.step.cid}})),"t4",20);case 20:s.next=17;break;case 22:s.next=27;break;case 24:s.prev=24,s.t5=s.catch(15),c.e(s.t5);case 27:return s.prev=27,c.f(),s.finish(27);case 30:if(!n.feedbackCorrect){s.next=32;break}return s.delegateYield((0,d.gz)(T({storeItem:{progress:255,cid:n.feedbackCorrect.cid}})),"t6",32);case 32:if(!n.feedbackWrong){s.next=34;break}return s.delegateYield((0,d.gz)(T({storeItem:{progress:255,cid:n.feedbackWrong.cid}})),"t7",34);case 34:return s.delegateYield((0,d.gz)(k({direction:1})),"t8",35);case 35:case"end":return s.stop()}}),Di,null,[[15,24,27,30]])}function qi(){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield((0,d.$6)([(0,d.ib)(j.toString(),Ti),(0,d.ib)(z.toString(),Ri),(0,d.ib)(B.toString(),Mi)]),"t0",1);case 1:case"end":return e.stop()}}),Ai)}var Fi=function(e,t){return e.width<t.width?-1:e.width>t.width?1:0},Ni=function(e,t,n){var r=function(e,t){t.sort(Fi);var n=t[t.length-1],r=t[0];if(e.width>=n.width&&e.height>=n.height)return n;if(e.width<=r.width&&e.height<=r.height)return r;var i=t.filter((function(t){return t.width<=e.width&&t.height<=e.height})).sort(Fi);return i.length?i[i.length-1]:void 0}(e,t.reduce((function(e,t){if(t.canvas){var n=t.canvas,r=n.width,i=n.height;r&&i&&(e.filter((function(e){return e.height===i&&e.width===r})).length||e.push({width:r,height:i}))}return e}),[]));if(r){var i=t.filter((function(e){var t=e.canvas||{width:0,height:0};return t.height===r.height&&t.width===r.width}));return i.find((function(e){return e.edition.locale===n}))||(i.length?i[0]:void 0)}},Vi=s.mark($i),Bi=s.mark(Xi),Hi=s.mark(Ui),Qi=s.mark(_i);function $i(e){var t,n,r,i,o,a,c,l,u,f,p,g;return s.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.delegateYield((0,d.Ys)(Ct),"t0",1);case 1:return t=s.t0,s.delegateYield((0,d.Ys)(yt),"t1",3);case 3:return n=s.t1,s.delegateYield((0,d.Ys)(ht),"t2",5);case 5:return r=s.t2,s.delegateYield((0,d.Ys)(vt),"t3",7);case 7:return i=s.t3,o=Ni(t,n,e),s.delegateYield(xn(),"t4",10);case 10:if(a=s.t4,!o||o===r||o===i){s.next=40;break}return s.delegateYield((0,d.Ys)(Gt),"t5",13);case 13:if(c=s.t5){s.next=16;break}return s.delegateYield((0,d.gz)(q()),"t6",16);case 16:return s.delegateYield((0,d.gz)(L(o)),"t7",17);case 17:return s.prev=17,s.delegateYield((0,d.RE)((function(){return a.getContent(o.id)})),"t8",19);case 19:return l=s.t8,s.delegateYield((0,d.gz)(Z({content:l,version:o})),"t9",21);case 21:s.next=28;break;case 23:return s.prev=23,s.t10=s.catch(17),console.error("failed to set content version",o,s.t10),s.delegateYield((0,d.gz)(D()),"t11",27);case 27:return s.abrupt("return");case 28:return s.delegateYield((0,d.Ys)(St),"t12",29);case 29:return u=s.t12,s.delegateYield((0,d.Ys)(en),"t13",31);case 31:if(f=s.t13,!u||!f){s.next=38;break}return s.delegateYield((0,d.Ys)(Vt),"t14",34);case 34:if(!(p=s.t14)[u]){s.next=38;break}return g=p[u].pageIndex,s.delegateYield((0,d.gz)(R({index:g,newActiveCid:u,withTransitionAnimation:!1})),"t15",38);case 38:if(c||l.startMuted){s.next=40;break}return s.delegateYield((0,d.gz)(F()),"t16",40);case 40:case"end":return s.stop()}}),Vi,null,[[17,23]])}function Xi(){var e;return s.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield((0,d.Ys)(kt),"t0",1);case 1:return e=t.t0,t.delegateYield($i(e),"t1",3);case 3:case"end":return t.stop()}}),Bi)}function Ui(e){return s.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield($i(e.payload),"t0",1);case 1:case"end":return t.stop()}}),Hi)}function _i(){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield((0,d.$6)([(0,d.ib)(H.toString(),Xi),(0,d.ib)(y.toString(),Ui)]),"t0",1);case 1:case"end":return e.stop()}}),Qi)}var Wi=s.mark(Ki),Ji=s.mark(eo),Gi=(0,Hn.ZP)("imc:blish-player-pager:init-saga");function Ki(){var e,t,n,r,i;return s.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.delegateYield(Xi(),"t0",1);case 1:return o.delegateYield(On(),"t1",2);case 2:return e=o.t1,o.prev=3,o.delegateYield((0,d.RE)(e.getState),"t2",5);case 5:t=o.t2,o.next=11;break;case 8:o.prev=8,o.t3=o.catch(3),Gi.error("Error fetching currentApiState",{cause:o.t3});case 11:return o.delegateYield((0,d.RE)(e.getUsername),"t4",12);case 12:return n=o.t4,o.delegateYield((0,d.Ys)(Tt),"t5",14);case 14:return r=o.t5,(i=(0,U.v)(r.map((function(e){return e.cid})),t)).seed<=0&&(i.seed=1+65535*Math.random()&65535),o.delegateYield((0,d.gz)(Y({storage:i,username:n})),"t6",18);case 18:return o.delegateYield((0,d.P2)(En,[T.toString(),R.toString(),A.toString()],Cn),"t7",19);case 19:case"end":return o.stop()}}),Wi,null,[[3,8]])}function eo(){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield((0,d.$6)([Ki(),ui(),Bn(),Jr(),Ci(),oi(),Gn(),Qr(),qi(),_i()]),"t0",1);case 1:case"end":return e.stop()}}),Ji)}function to(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function no(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?to(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):to(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ro=function(e){return(0,c.UY)(no({app:C},e))};function io(e,t,n,r,i,o){var a={},s={app:no(no({},h),{},{versions:i,initLanguage:o,windowDimensions:n,theme:r})},d={context:{universalApi:t,injectedVideoPlayers:a,contentBackend:e}},f=(0,u.ZP)(d),p=f.run,g=[(0,c.md)(f),(0,l.Ky)({createReducer:ro,runSaga:p})],m=c.qC,b=(0,c.MT)(ro({}),s,m.apply(void 0,g));return b.runSaga=f.run,b.injectedReducers={},b.injectedSagas={},b.injectedVideoPlayers=a,f.run(eo),b}var oo=n(7321),ao=n(5806),co=n(9342),lo=n(6287),uo=n(4313);function so(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var fo=function(e){return r.createElement(uo.JO,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?so(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):so(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),r.createElement(uo.y$,{color:e.color||"currentColor",d:"M20,14l-4,4-4-4",strokeLinecap:"round",strokeMiterlimit:"10"}))};fo.displayName="CaretDownIcon";var po=fo;function go(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var mo=function(e){return r.createElement(uo.JO,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?go(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):go(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),r.createElement(uo.y$,{color:e.color||"currentColor",d:"M13,24V8l10,8.07Z",strokeLinecap:"round",strokeLinejoin:"round"}))};mo.displayName="PlayIcon";var bo=mo;function ho(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var vo=function(e){return r.createElement(uo.JO,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ho(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ho(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),r.createElement(uo.x1,{color:e.color||"currentColor",x1:"8",y1:"10",x2:"14",y2:"10",strokeLinecap:"round"}),r.createElement(uo.x1,{color:e.color||"currentColor",x1:"8",y1:"14",x2:"22",y2:"14",strokeLinecap:"round"}),r.createElement(uo.x1,{color:e.color||"currentColor",x1:"8",y1:"18",x2:"24",y2:"18",strokeLinecap:"round"}),r.createElement(uo.x1,{color:e.color||"currentColor",x1:"8",y1:"22",x2:"20",y2:"22",strokeLinecap:"round"}))};vo.displayName="TocIcon";var yo=vo;function wo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ko=function(e){return r.createElement(uo.JO,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wo(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),r.createElement(uo.y$,{color:e.color||"currentColor",d:"M14.893,10.14l-3.977,2.945a.725.725,0,0,1-.431.139H7.675a.643.643,0,0,0-.675.6v4.345a.643.643,0,0,0,.675.6h2.81a.725.725,0,0,1,.431.139l3.977,2.945A.686.686,0,0,0,16,21.389V10.6a.685.685,0,0,0-.757-.605A.693.693,0,0,0,14.893,10.14Z",strokeLinecap:"round",strokeMiterlimit:"10"}),r.createElement(uo.x1,{color:e.color||"currentColor",x1:"20",y1:"13.5",x2:"25",y2:"18.5",strokeLinecap:"round"}),r.createElement(uo.x1,{color:e.color||"currentColor",x1:"25",y1:"13.5",x2:"20",y2:"18.5",strokeLinecap:"round"}))};ko.displayName="AudioMute";var Oo=ko;function xo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Eo=function(e){return r.createElement(uo.JO,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xo(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),r.createElement(uo.y$,{color:e.color||"currentColor",d:"M22.641,23.131A11.679,11.679,0,0,0,25,15.952,12.305,12.305,0,0,0,22.777,9",strokeLinecap:"round",strokeMiterlimit:"10"}),r.createElement(uo.y$,{color:e.color||"currentColor",d:"M19.5,21.019a8.181,8.181,0,0,0,0-10.134",strokeLinecap:"round",strokeMiterlimit:"10"}),r.createElement(uo.y$,{color:e.color||"currentColor",d:"M14.893,10.092l-3.977,2.945a.725.725,0,0,1-.431.139H7.675a.643.643,0,0,0-.675.6v4.345a.643.643,0,0,0,.675.6h2.81a.725.725,0,0,1,.431.139l3.977,2.945A.686.686,0,0,0,16,21.341V10.552a.686.686,0,0,0-1.107-.46Z",strokeLinecap:"round",strokeMiterlimit:"10"}))};Eo.displayName="AudioPlayIcon";var Po,jo,zo,So,Co,Io,Yo,Zo,Lo,Do,Ao,To,Ro,Mo=Eo,qo=n(4681),Fo=n(8825),No=n(4800),Vo=n(9557),Bo=n(2919),Ho=(0,ao.ZP)(Bo.P)(Po||(Po=(0,oo.Z)(["\n  font-size: 18px;\n  line-height: 32px;\n  color: ",";\n  width: 32px;\n  text-align: center;\n"])),(function(e){var t=e.theme,n=e.variant;return n?(0,lo.Lq)(t,[n,"base"]):(0,lo.pe)("foreground")})),Qo=ao.ZP.div(jo||(jo=(0,oo.Z)(["\n  display: inline-flex;\n  align-items: center;\n\n  button {\n    border-width: 1px;\n    margin-left: -1px;\n\n    &:focus {\n      z-index: 1;\n    }\n\n    &:hover {\n      z-index: 1;\n    }\n  }\n\n  padding: 8px 8px;\n  flex: 1 1 auto;\n  justify-content: center;\n"]))),$o=(0,ao.ZP)(Ho)(zo||(zo=(0,oo.Z)(["\n  font-size: 18px;\n  line-height: 32px;\n  color: ",";\n"])),(function(e){var t=e.theme,n=e.variant;return n?(0,lo.Lq)(t,[n,"base"]):(0,lo.pe)("muted")})),Xo=ao.ZP.div(So||(So=(0,oo.Z)(["\n  font-size: 20px;\n  line-height: 32px;\n  margin-left: 10px;\n  margin-right: 10px;\n  color: ",";\n  user-select: none;\n"])),(function(e){var t=e.theme,n=e.variant;return n?(0,lo.Lq)(t,[n,"base"]):(0,lo.pe)("muted")})),Uo=function(e){var t=e.current,n=e.max,i=e.variant,o=e.variantMuted;return r.createElement(Qo,null,r.createElement(Ho,{variant:i},t),r.createElement(Xo,{variant:o},"|"),r.createElement($o,{variant:o},n))},_o=n(5029),Wo=["progress","playing","currentPage","maxPage","isMuted","navBack","navForward","showToc","mute","unmute","showPlay","play","currentLocale","availableLocales","switchLocale","rtl","switchPlayer","enterAria"];function Jo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Go,Ko,ea,ta,na=ao.ZP.div.attrs((function(){return{role:"button"}}))(Co||(Co=(0,oo.Z)(["\n  display: flex;\n  justify-content: center;\n  flex: 0 0 auto;\n  align-self: center;\n  align-items: center;\n  outline: 0;\n  box-sizing: border-box;\n  user-select: none;\n  min-width: 50px;\n  min-height: 50px;\n  background-color: ",";\n  color: ",";\n  border-radius: 30px;\n  margin: 2px;\n  cursor: ",";\n  ","\n"])),(function(e){var t=e.theme;return e.disabled?t.player.button.backgroundDisabled:t.player.button.background}),(function(e){var t=e.theme;return e.disabled?t.player.button.foregroundDisabled:t.player.button.foreground}),qo.X,(function(e){var t=e.theme;return e.disabled?"":"\n  &:hover {\n    background-color: ".concat(t.player.button.backgroundHover,";\n    color: ").concat(t.player.button.foregroundHover,";\n  }\n  ")})),ra=ao.ZP.div(Io||(Io=(0,oo.Z)(["\n  display: flex;\n  box-sizing: border-box;\n  border-radius: 64px;\n  width: auto;\n  box-shadow: 0 3px 12px ",";\n  padding: 12px 4px;\n  height: 64px;\n  background: ",";\n\n  button {\n    padding: 1px;\n  }\n"])),(0,lo.pe)("shadow"),(0,lo.pe)("background")),ia=na,oa=(0,ao.ZP)(po)(Yo||(Yo=(0,oo.Z)(["\n  transform: rotate(90deg);\n"]))),aa=(0,ao.ZP)(po)(Zo||(Zo=(0,oo.Z)(["\n  transform: rotate(270deg);\n"]))),ca=(0,ao.ZP)(ra)(Lo||(Lo=(0,oo.Z)(["\n  padding: 12px 6px;\n"]))),la=(0,ao.ZP)(ia)(Do||(Do=(0,oo.Z)(["\n  border: none !important;\n  animation: "," 1s ease-out infinite;\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    border-radius: 50%;\n    animation: "," 1s 0.5s ease-out infinite;\n  }\n\n  &::after {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    border-radius: 50%;\n    animation: "," 1s 0.65s ease-out infinite;\n  }\n"])),Fo.cW,No._,No._),ua=ao.ZP.div(Ao||(Ao=(0,oo.Z)(["\n  position: fixed;\n  top: 60px;\n  left: 0px;\n  right: 0px;\n  height: 60px;\n  display: flex;\n  justify-content: center;\n"]))),sa=ao.ZP.div(To||(To=(0,oo.Z)(["\n  width: ",";\n  height: ",";\n  position: absolute;\n"])),(function(e){return e.show?"100%":0}),(function(e){return e.show?"100%":0})),da=ao.ZP.div(Ro||(Ro=(0,oo.Z)(["\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  height: 0em;\n  background: ",";\n  color: ",";\n  text-align: center;\n  overflow: hidden;\n  line-height: 2.5em;\n  font-weight: normal;\n  transition: height 400ms ease-in-out;\n\n  &:focus {\n    height: 2.5em;\n  }\n"])),(0,lo.pe)("background"),(0,lo.pe)("foreground")),fa=function(e){var t=e.progress,n=e.playing,i=e.currentPage,o=e.maxPage,c=e.isMuted,l=e.navBack,u=e.navForward,s=e.showToc,d=e.mute,f=e.unmute,p=e.showPlay,g=e.play,m=e.currentLocale,b=e.availableLocales,h=e.switchLocale,v=e.rtl,y=e.switchPlayer,w=e.enterAria,k=(0,co.Z)(e,Wo);return r.createElement(sa,{show:p},p&&r.createElement(da,{tabIndex:0,role:"link",onKeyDown:function(e){return function(e){"keydown"===e.type&&"Enter"===e.code&&(y("Aria"),e.preventDefault(),e.stopPropagation())}(e)}},w),b.length>1&&p&&r.createElement(ua,null,r.createElement(_o.Ww,{currentLocale:m,availableLocales:b,switchLocale:h,modalAlign:"center",size:48})),r.createElement(ca,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jo(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({variant:"background",height:200,noBorder:k.noBorder,dir:v?"rtl":void 0},k),p?r.createElement(la,{onClick:g},r.createElement(bo,{size:46})):r.createElement(r.Fragment,null,r.createElement(ia,{disabled:!l,onClick:l},!v&&r.createElement(oa,null),v&&r.createElement(aa,null)),r.createElement(ia,{onClick:s},r.createElement(yo,null)),r.createElement(Uo,{variant:"primary",variantMuted:"muted",current:i,max:o}),r.createElement(ia,{onClick:c?f:d},c?r.createElement(Oo,null):r.createElement(Mo,null)),n?r.createElement(ia,null,r.createElement(Vo.Y,{progress:t})):r.createElement(ia,{disabled:!u,onClick:u},v&&r.createElement(oa,null),!v&&r.createElement(aa,null)))))},pa=["indeterminate"];function ga(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ma(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ga(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ga(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ba,ha=ao.ZP.div.attrs((function(e){var t=e.progress,n=e.position;return{style:{transform:t?"scaleX(".concat(t/100,")"):"scaleX(0)",bottom:n?"".concat(n.bottom?n.bottom:0,"px"):0,top:n?"".concat(n.top?"".concat(n.top,"px"):"auto"):"auto",left:n?"".concat(n.left?n.left:0,"px"):0,right:n?"".concat(n.right?n.right:0,"px"):0}}}))(ea||(ea=(0,oo.Z)(["\n  height: ","px;\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  transition: transform 0.3s ease;\n  background-color: ",";\n  border-radius: ","px;\n  z-index: 1;\n  transform-origin: left;\n"])),(function(e){return e.size||3}),(function(e){var t=e.variant,n=e.theme;return t?(0,lo.Lq)(n,[t,"base"]):"transparent"}),(function(e){return e.size||3})),va=ao.ZP.div.attrs((function(){return{children:r.createElement(r.Fragment,null,r.createElement("div",{className:"line"}),r.createElement("div",{className:"subline inc"}),r.createElement("div",{className:"subline dec"}))}}))(ta||(ta=(0,oo.Z)(["\n  height: ","px;\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  background-color: ",";\n  border-radius: ",";\n  z-index: 1;\n  overflow: hidden;\n\n  & .line {\n    position: absolute;\n    opacity: 0.4;\n    width: 150%;\n    height: ","px;\n  }\n\n  & .subline {\n    position: absolute;\n    height: ","px;\n  }\n\n  & .inc {\n    animation: ","\n      2s infinite;\n  }\n\n  & .dec {\n    animation: ","\n      2s 0.5s infinite;\n  }\n"])),(function(e){return e.size||3}),(function(){return(0,lo.pe)("background")}),(function(e){var t=e.size;return e.borderRadius||(t?"".concat(t,"px"):"3px")}),(function(e){return e.size||3}),(function(e){return e.size||3}),(function(e){var t=e.color,n=e.theme,r=e.variant;return function(e){return(0,ao.F4)(Go||(Go=(0,oo.Z)(["\n  from {\n    left: -5%;\n    width: 5%;\n    background: transparent;\n  }\n  to {\n    left: 130%;\n    width: 100%;\n    background: ",";\n  }\n"])),e)}(t||(r?(0,lo.Lq)(n,[r,"base"]):"transparent"))}),(function(e){var t=e.color,n=e.theme,r=e.variant;return function(e){return(0,ao.F4)(Ko||(Ko=(0,oo.Z)(["\n  from {\n    left: -80%;\n    width: 80%;\n    background: transparent;\n  }\n  to {\n    left: 110%;\n    width: 10%;\n    background: ",";\n  }\n"])),e)}(t||(r?(0,lo.Lq)(n,[r,"base"]):"transparent"))})),ya=ao.ZP.div.attrs((function(e){var t=e.size;return{style:{width:t.width,height:t.height}}}))(ba||(ba=(0,oo.Z)(["\n  position: fixed;\n  left: 0;\n  top: 0;\n  z-index: 100;\n  background: ",";\n  opacity: ",";\n  transition: opacity 0.25s cubic-bezier(0.4, 0, 0.2, 1);\n  user-select: none;\n  pointer-events: ",";\n"])),(0,lo.pe)("background"),(function(e){return e.visible?1:0}),(function(e){return e.visible?"all":"none"})),wa=function(e){var t=e.windowDimensions,n=e.visible;return r.createElement(ya,{size:t,visible:n},r.createElement(_o.Nu,null))},ka=n(2648);function Oa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var xa=function(e){return r.createElement(uo.JO,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oa(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),r.createElement(uo.UL,{color:e.color||"currentColor",x:"7",y:"9",width:"18",height:"17",rx:"2"}),r.createElement(uo.Cd,{color:e.color||"currentColor",cx:"12.5",cy:"14.5",r:"1.85"}),r.createElement(uo.Cd,{color:e.color||"currentColor",cx:"19.5",cy:"14.5",r:"1.85"}),r.createElement(uo.UL,{color:e.color||"currentColor",x:"12",y:"20",width:"8",height:"2",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement(uo.x1,{color:e.color||"currentColor",x1:"16",y1:"9",x2:"16",y2:"6",strokeLinecap:"round"}),r.createElement(uo.Cd,{color:e.color||"currentColor",cx:"16",cy:"4.5",r:"1.5"}),r.createElement(uo.y$,{color:e.color||"currentColor",d:"M25,14h0a3,3,0,0,1,3,3v2a3,3,0,0,1-3,3h0V14Z"}),r.createElement(uo.y$,{color:e.color||"currentColor",d:"M7,14H7v8H7a3,3,0,0,1-3-3V17A3,3,0,0,1,7,14Z"}))};xa.displayName="RobotIcon";var Ea,Pa,ja,za,Sa,Ca=xa,Ia=ao.ZP.div(Ea||(Ea=(0,oo.Z)(["\n  position: fixed;\n  left: -150px;\n  top: -150px;\n  width: ","px;\n  height: ","px;\n  z-index: 90;\n  opacity: 0.5;\n  user-select: none;\n  transform: rotate(-15deg);\n  pointer-events: none;\n"])),(function(e){return e.size.width}),(function(e){return e.size.height})),Ya=ao.ZP.div.attrs((function(e){var t=e.size;return{style:{width:t.width,height:t.height}}}))(Pa||(Pa=(0,oo.Z)(["\n  display: inline-flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  align-content: stretch;\n  color: ",";\n  width: 400px;\n  height: 330px;\n"])),(0,lo.pe)("muted")),Za=(0,ao.ZP)(Bo.P)(ja||(ja=(0,oo.Z)(["\n  margin-left: 20px;\n  font-size: 30px;\n"]))),La=function(e){for(var t=e.windowDimensions,n={width:400,height:330},i={width:Math.ceil(t.width/n.width)*n.width+n.width,height:Math.ceil(t.height/n.height)*n.height+n.height},o=i.width/n.width*(i.height/n.height),a=[],c=0;c<o;c++)a.push(r.createElement(Ya,{size:n},r.createElement(Ca,{size:52}),r.createElement(Za,null,"imc Express demo")));return r.createElement(Ia,{size:i},a)},Da=n(9552);!function(e){e.Image="Image",e.Paragraph="Paragraph",e.HighlightParagraph="HighlightParagraph",e.Heading="Heading",e.ListItem="ListItem",e.QuestionAnswer="QuestionAnswer",e.Video="Video",e.Link="Link",e.ImageLabel="ImageLabel",e.ImageLabelDescription="ImageLabelDescription",e.CardText="CardText"}(za||(za={}));var Aa,Ta,Ra,Ma,qa,Fa,Na=ao.ZP.div.attrs((function(e){var t=e.bounds;return{style:{width:t.width,height:t.height,top:t.top,left:t.left}}}))(Sa||(Sa=(0,oo.Z)(["\n  position: absolute;\n"]))),Va=n(3128),Ba=function(e){var t=e.word;return r.createElement("span",null,t.map((function(e,t){if("t"===e.t){var n={fontSize:"".concat(e.sz,"px")};return(e.oX||e.oY)&&(n.position="relative",e.oX&&(n.left="".concat(e.oX,"px")),e.oY&&(n.top="".concat(e.oY,"px"))),r.createElement("span",{key:t,className:(0,Va.bZ)(e.f),style:n},e.c)}return r.createElement(r.Fragment,{key:t})})))},Ha=ao.ZP.div.attrs((function(e){return{style:{width:e.line.w,height:e.line.h,left:e.line.x,top:e.line.y,lineHeight:"".concat(e.line.h,"px")}}}))(Aa||(Aa=(0,oo.Z)(["\n  display: flex;\n  flex-direction: row;\n  flex-shrink: 0;\n  align-items: stretch;\n  justify-content: space-between;\n  position: absolute;\n"]))),Qa=function(e){var t=e.line,n=e.lineContainerStyle;return r.createElement(Ha,{style:n,line:t},t.c.map((function(e,t){return r.createElement(Ba,{key:"word-".concat(t),word:e})})))},$a=ao.ZP.div.attrs((function(e){return{style:{width:e.w,height:e.h}}}))(Ta||(Ta=(0,oo.Z)(["\n  position: relative;\n  white-space: nowrap;\n"]))),Xa=function(e){var t=e.columnLayout,n=e.lineContainerStyle;return r.createElement($a,{w:t.w,h:t.h,dir:"r"===t.d?"rtl":void 0},t.c.map((function(e,t){return r.createElement(Qa,{lineContainerStyle:n,key:"line-".concat(t),line:e})})))},Ua=ao.ZP.div.attrs((function(e){var t=e.bounds;return{style:{width:t.width,height:t.height,top:t.top,left:t.left}}}))(Ra||(Ra=(0,oo.Z)(["\n  position: absolute;\n  color: ",";\n"])),(function(e){return e.theme.player.element.foreground})),_a=function(e){var t=e.bounds,n=e.data,i=e.className;return r.createElement(Ua,{className:"".concat(i," box"),bounds:t},r.createElement(Xa,{columnLayout:n}))},Wa=function(e,t,n){return{top:12,bottom:12,left:n?32:55,right:n?55:32}},Ja=function(e,t){return{top:0,bottom:0,left:32,right:32}},Ga=function(e,t){return{top:16,bottom:16,left:24,right:24}},Ka=function(e,t){return{top:0,bottom:0,left:32,right:32}},ec=function(e,t,n){return{top:12,bottom:12,left:n?32:70,right:n?70:32}},tc=function(e,t){return{top:0,bottom:0,left:8,right:8}},nc=function(e,t){return{top:16,bottom:16,left:24,right:24}},rc=function(e,t,n){var i=(0,ao.Fg)();return(0,r.useMemo)((function(){var r=e.typesetting&&"r"===e.typesetting.d||!1,o=n(i,t.context,r);return{width:e.bounds.width-o.left-o.right,height:e.bounds.height-o.top-o.bottom,top:o.top,left:o.left}}),[n,i,t.context,e.bounds.width,e.bounds.height,e.typesetting])},ic=(0,r.forwardRef)((function(e,t){var n=e.element,i=e.step,o=e.className,a=rc(n,i,Ka);return r.createElement(Na,{ref:t,className:o,bounds:n.bounds},n.typesetting&&r.createElement(_a,{bounds:a,data:n.typesetting}))}));ic.displayName="Paragraph";var oc=ao.ZP.div(Ma||(Ma=(0,oo.Z)(["\n  background: ",";\n  background: ",";\n  left: 32px;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  position: absolute;\n  box-shadow: ",";\n"])),(function(e){return e.theme.player.element.highlightParagraph.boxBackground.fallback}),(function(e){return e.theme.player.element.highlightParagraph.boxBackground.gradient}),(function(e){return e.theme.player.element.highlightParagraph.boxShadow})),ac=ao.ZP.div(qa||(qa=(0,oo.Z)(["\n  background: ",";\n  background: ",";\n  ",";\n  width: 5px;\n  top: 0;\n  bottom: 0;\n  position: absolute;\n"])),(function(e){return e.theme.player.element.highlightParagraph.indicatorBackground.fallback}),(function(e){return e.theme.player.element.highlightParagraph.indicatorBackground.gradient}),(function(e){return e.rtl?"right: 32px":"left: 32px;"})),cc=(0,ao.ZP)(_a)(Fa||(Fa=(0,oo.Z)(["\n  span {\n    color: ",";\n  }\n"])),(function(e){return e.theme.player.element.highlightParagraph.foreground})),lc=(0,r.forwardRef)((function(e,t){var n=e.element,i=e.step,o=e.className,a=rc(n,i,Wa),c=n.typesetting&&"r"===n.typesetting.d;return r.createElement(Na,{ref:t,className:o,bounds:n.bounds},r.createElement(oc,null),r.createElement(ac,{rtl:c}),n.typesetting&&r.createElement(cc,{bounds:a,data:n.typesetting}))}));lc.displayName="HighlightParagraph";var uc=n(5254);function sc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var dc=function(e){return r.createElement(uo.JO,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sc(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),r.createElement(uo.Cd,{color:e.color||"currentColor",cx:"16",cy:"16",r:"10",strokeLinecap:"round",strokeMiterlimit:"10"}),r.createElement(uo.x1,{color:e.color||"currentColor",x1:"16",y1:"15",x2:"16",y2:"21",strokeLinecap:"round",strokeMiterlimit:"10"}),r.createElement(uo.Cd,{color:e.color||"currentColor",cx:"16",cy:"11.5",r:"0.5",strokeLinecap:"round",strokeMiterlimit:"10"}))};dc.displayName="InfoIcon";var fc=dc;function pc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var gc=function(e){return r.createElement(uo.JO,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pc(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),r.createElement(uo.y$,{color:e.color||"currentColor",d:"M24,16v6.222A1.778,1.778,0,0,1,22.222,24H9.778A1.778,1.778,0,0,1,8,22.223H8V9.779A1.778,1.778,0,0,1,9.778,8H16",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement(uo.x1,{color:e.color||"currentColor",x1:"15",y1:"17",x2:"23.834",y2:"8.166",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement(uo.y$,{color:e.color||"currentColor",d:"M20,8h4v4",strokeLinecap:"round",strokeLinejoin:"round"}))};gc.displayName="ExternalLinkIcon";var mc,bc,hc,vc,yc,wc,kc,Oc,xc,Ec=gc,Pc="bottom",jc=ao.ZP.div(mc||(mc=(0,oo.Z)(["\n  position: absolute;\n  left: 5px;\n  ",": 5px;\n  width: 24px;\n  height: 24px;\n  border-radius: 12px;\n  background-color: ",";\n  color: ",";\n  overflow: hidden;\n  &.open {\n    background-color: ",";\n  }\n"])),(function(e){return e.position||Pc}),(function(e){return e.theme.player.element.license.muted}),(function(e){return e.theme.player.element.license.foreground}),(function(e){return e.theme.player.element.license.background})),zc=ao.ZP.div(bc||(bc=(0,oo.Z)(["\n  z-index: 1;\n  position: absolute;\n  ",": 5px;\n  left: 5px;\n  right: 5px;\n"])),(function(e){return e.position||Pc})),Sc=ao.ZP.div(hc||(hc=(0,oo.Z)(["\n  ","\n  position: relative;\n  display: inline-block;\n  padding: 5px 10px 3px 30px;\n  box-sizing: border-box;\n  border-radius: 12px;\n  color: ",";\n  max-width: ",";\n  user-select: none;\n  font-size: 11px;\n  line-height: 16px;\n  vertical-align: middle;\n  opacity: 0;\n  transition: all 100ms;\n  overflow: hidden;\n  &.visible {\n    background-color: ",";\n    opacity: 1;\n  }\n"])),(0,lo.p_)("p"),(function(e){return e.theme.player.element.license.foreground}),(function(e){var t=e.width;return t?"".concat(t-10,"px"):"100%"}),(function(e){return e.theme.player.element.license.background})),Cc=(0,ao.ZP)(fc)(vc||(vc=(0,oo.Z)(["\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  z-index: 2;\n  cursor: pointer;\n"]))),Ic=(0,ao.ZP)(uc.z)(yc||(yc=(0,oo.Z)(["\n  margin: 0;\n  padding: 0;\n  border: 0;\n  color: ",";\n  display: inline-block;\n"])),(function(e){return e.theme.player.element.license.foreground})),Yc=ao.ZP.a(wc||(wc=(0,oo.Z)(["\n  margin: 0;\n  padding: 0;\n  border: 0;\n  color: ",";\n  display: inline-block;\n  text-decoration: underline;\n"])),(function(e){return e.theme.player.element.license.foreground})),Zc=function(e){var t=e.image,n=e.width,i=e.position,o=(0,ao.Fg)(),a=(0,r.useState)(!1),c=(0,Pr.Z)(a,2),l=c[0],u=c[1],s=t.reference,d=s.title,f=s.author,p=s.license,g=s.uri,m=[d,f,p].map((function(e){return e&&(0,Kn.Vt)(e)})).filter((function(e){return!!e})).join(", "),b=r.useCallback((function(){window.open(g,"_blank")}),[g]),h=i||Pc,v=(0,r.useCallback)((function(e){e.stopPropagation(),u(!l)}),[u,l]);return p?r.createElement(r.Fragment,null,r.createElement(jc,{position:h},r.createElement(Cc,{size:24,onClick:v,color:o.player.element.license.foreground})),r.createElement(zc,{position:h},r.createElement(Sc,{width:n,className:l?"visible":""},"Unsplash"===p&&r.createElement("span",null,"Photo by"," ",r.createElement(Yc,{target:"_blank",href:"".concat(g,"?utm_source=imc%20Express&utm_medium=referral")},f)," ","on"," ",r.createElement(Yc,{target:"_blank",href:"https://unsplash.com/?utm_source=imc%20Express&utm_medium=referral"},"Unsplash")),"Unsplash"!==p&&r.createElement(r.Fragment,null,m,g&&r.createElement(Ic,{variant:"background",onClick:b,disabled:!g},r.createElement(Ec,{color:o.player.element.license.foreground,viewBox:"0 2 32 32",size:16})))))):r.createElement(r.Fragment,null)},Lc=ao.ZP.div(kc||(kc=(0,oo.Z)(["\n  background-image: ",";\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: ",";\n  background-color: transparent;\n  height: 100%;\n"])),(function(e){var t=e.image;return"url(".concat(t,")")}),(function(e){return e.backgroundPosition})),Dc=ao.ZP.div(Oc||(Oc=(0,oo.Z)(["\n  width: ","px;\n  height: ","px;\n"])),(function(e){return e.width}),(function(e){return e.height})),Ac=function(e){var t,n,r,i=(r=(t=e.reference.file.width)/(n=e.reference.file.height),function(e,t){var n=e/t;return Object.values(be).reduce((function(e,t){return Math.abs(t-n)<Math.abs(e-n)?t:e}))}(t,n)>=r);return e.align===te.Start?i?"top":"left":e.align===te.Center?"center":e.align===te.End?i?"bottom":"right":"center center"},Tc=function(e){var t=e.image,n=e.height,i=e.width,o=(0,r.useContext)(Kn.E6);return r.createElement(Dc,{width:i,height:n},r.createElement(Lc,{image:o(t.reference,{size:Kn.h2.Preview}),backgroundPosition:Ac(t)}),r.createElement(Zc,{image:t,width:i}))};function Rc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rc(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qc,Fc=ao.ZP.div.attrs((function(e){var t=e.bounds,n=e.fullscreen,r=e.canFullscreen;return{style:Mc(Mc({width:t.width,height:t.height,top:t.top,left:t.left},n?{position:"fixed",zIndex:60}:{}),r?{cursor:"pointer"}:{})}}))(xc||(xc=(0,oo.Z)(["\n  position: absolute;\n"]))),Nc=(0,r.forwardRef)((function(e,t){var n,i,o,a,c,l=e.element,u=e.step,s=e.className,d=(0,r.useState)(!1),f=(0,Pr.Z)(d,2),p=f[0],g=f[1],m=(0,r.useCallback)((function(){g(!p)}),[p,g]),b={width:document.documentElement.clientWidth||document.body.clientWidth,height:document.documentElement.clientHeight||document.body.clientHeight},h=(n={width:b.width,height:b.height-5},i=l.bounds,o=n.width/i.width,a=n.height/i.height,c=Math.min(o,a),{width:i.width*c,height:i.height*c}),v=h.width>l.bounds.width+10,y=p&&v?Mc({top:(b.height-(h.height+5))/2,left:(b.width-h.width)/2},h):l.bounds;return r.createElement(Fc,{ref:t,className:s,bounds:y,onClick:m,fullscreen:p&&v,canFullscreen:v},u.box.image&&r.createElement(Tc,{height:y.height,width:y.width,image:u.box.image}))}));Nc.displayName="Image";var Vc,Bc,Hc,Qc=ao.ZP.div.attrs((function(e){var t=e.bounds;return{style:{width:t.width,height:t.height,top:t.top,left:t.left}}}))(qc||(qc=(0,oo.Z)(["\n  position: absolute;\n"]))),$c=(0,ao.ZP)(Qc)(Vc||(Vc=(0,oo.Z)(["\n  color: ",";\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  flex-direction: row;\n  flex-wrap: nowrap;\n"])),(function(e){return e.theme.player.element.foreground})),Xc=(0,ao.ZP)(Bo.P)(Bc||(Bc=(0,oo.Z)(["\n  color: ",";\n  line-height: inherit;\n"])),(function(e){return e.theme.player.element.foreground})),Uc=ao.ZP.div(Hc||(Hc=(0,oo.Z)(["\n  background-color: ",";\n  width: 10px;\n  height: 10px;\n  margin: 6px;\n  border-radius: 50%;\n"])),(function(e){return e.theme.player.element.foreground})),_c=(0,r.forwardRef)((function(e,t){var n=e.element,i=e.step,o=e.className,a=rc(n,i,Ja),c=n.typesetting&&"r"===n.typesetting.d,l={top:a.top+2,left:c?n.bounds.width-24:a.left-24-8,height:24,width:24},u=i.context.type===fe.ListItem&&i.context.styleType===he.Bullet;return r.createElement(Na,{ref:t,className:o,bounds:n.bounds},r.createElement($c,{bounds:l},u?r.createElement(Uc,null):r.createElement(Xc,{dir:c?"rtl":void 0},i.path[i.path.length-1]+1,".")),n.typesetting&&r.createElement(_a,{bounds:a,data:n.typesetting}))}));_c.displayName="ListItem";var Wc,Jc=(0,r.forwardRef)((function(e,t){var n=e.element,i=e.step,o=e.className,a=rc(n,i,Ga);return r.createElement(Na,{ref:t,className:o,bounds:n.bounds},n.typesetting&&r.createElement(_a,{bounds:a,data:n.typesetting}))}));Jc.displayName="QuestionAnswer";var Gc=(0,ao.ZP)(Na)(Wc||(Wc=(0,oo.Z)(["\n  overflow: hidden;\n  background-color: #deb887;\n"]))),Kc=(0,r.forwardRef)((function(e,t){var n=e.element;return r.createElement(Gc,{ref:t,bounds:n.bounds},JSON.stringify(n,null," "))}));Kc.displayName="Debug";var el=n(333),tl=n(404),nl=(0,r.forwardRef)((function(e,t){var n=e.element,i=e.step,o=e.className,a=e.onVideoReady,c=e.onFullscreen,l=(0,r.useContext)(Kn.E6),u=i.box.video?l(i.box.video.reference):void 0,s=(0,r.useMemo)((function(){return{autoplay:!1,controls:!0,fluid:!0,responsive:!0,sources:[{src:u,type:"application/x-mpegURL"}],bigPlayButton:!1,tracks:n.vtt?[{src:(0,Kn.fX)(n.vtt.src),kind:"subtitles",srclang:n.vtt.language,label:(0,tl.o)(n.vtt.language)}]:void 0}}),[u,n.vtt]),d=(0,r.useCallback)((function(e){a&&a(i.cid,e)}),[i.cid,a]),f=(0,r.useCallback)((function(){c&&c(i.cid,!0)}),[c,i.cid]),p=(0,r.useCallback)((function(){c&&c(i.cid,!1)}),[c,i.cid]);return r.createElement(Na,{ref:t,className:o,bounds:n.bounds},u&&r.createElement(el.n,{options:s,onReady:d,onFullscreen:f,onFullscreenEnd:p,showVolume:!1,showSubtitlesFromStart:!0}))}));function rl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}nl.displayName="Video";var il=function(e){return r.createElement(uo.JO,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rl(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),r.createElement(uo.y$,{d:"M16.21,10.732,17.9,9.047a3.575,3.575,0,0,1,5.056,0h0a3.574,3.574,0,0,1,0,5.054l0,0-3.371,3.372a3.575,3.575,0,0,1-5.056,0h0",color:e.color||"currentColor",strokeLinecap:"round"}),r.createElement(uo.y$,{d:"M15.789,21.267,14.1,22.952a3.574,3.574,0,0,1-5.054,0l0,0h0a3.575,3.575,0,0,1,0-5.056h0l3.371-3.371a3.577,3.577,0,0,1,5.057,0",color:e.color||"currentColor",strokeLinecap:"round"}))};il.displayName="LinkIcon";var ol=il;function al(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var cl=function(e){return r.createElement(uo.JO,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?al(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):al(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),r.createElement(uo.y$,{color:e.color||"currentColor",d:"M8,8V24a2,2,0,0,0,2,2H22a2,2,0,0,0,2-2V10.828a2,2,0,0,0-.586-1.414L20.586,6.586A2,2,0,0,0,19.172,6H10A2,2,0,0,0,8,8Z"}),r.createElement(uo.x1,{color:e.color||"currentColor",x1:"11",y1:"14.5",x2:"20",y2:"14.5",strokeLinecap:"round"}),r.createElement(uo.x1,{color:e.color||"currentColor",x1:"11",y1:"17.5",x2:"14",y2:"17.5",strokeLinecap:"round"}),r.createElement(uo.x1,{color:e.color||"currentColor",x1:"11",y1:"11.5",x2:"20",y2:"11.5",strokeLinecap:"round"}))};cl.displayName="DocumentIcon";var ll=cl;function ul(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var sl=function(e){return r.createElement(uo.JO,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ul(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ul(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),r.createElement(uo.UL,{color:e.color||"currentColor",x:"6",y:"6",width:"20",height:"14",rx:"2",strokeLinecap:"round",strokeMiterlimit:"10"}),r.createElement(uo.y$,{color:e.color||"currentColor",d:"M18.5,13l-4,2.5v-5Z",strokeLinecap:"round",strokeMiterlimit:"10"}),r.createElement(uo.x1,{color:e.color||"currentColor",x1:"26",y1:"24",x2:"15",y2:"24",strokeLinecap:"round",strokeMiterlimit:"10"}),r.createElement(uo.x1,{color:e.color||"currentColor",x1:"11",y1:"24",x2:"6",y2:"24",strokeLinecap:"round",strokeMiterlimit:"10"}),r.createElement(uo.Cd,{color:e.color||"currentColor",cx:"13",cy:"24",r:"1.35",strokeLinecap:"round",strokeMiterlimit:"10"}))};sl.displayName="VideoIcon";var dl,fl,pl,gl=sl,ml=n(6303),bl=n(5032),hl=ao.ZP.div(dl||(dl=(0,oo.Z)(["\n  background: ",";\n  background: ",";\n  left: 32px;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  position: absolute;\n  box-shadow: ",";\n"])),(function(e){return e.theme.player.element.link.boxBackground.fallback}),(function(e){return e.theme.player.element.link.boxBackground.gradient}),(function(e){return e.theme.player.element.link.boxShadow})),vl=ao.ZP.div(fl||(fl=(0,oo.Z)(["\n  ",";\n  width: 32px;\n  top: 0;\n  bottom: 0;\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"])),(function(e){return e.rtl?"right: 32px":"left: 32px;"})),yl=(0,ao.ZP)(Na)(pl||(pl=(0,oo.Z)(["\n  cursor: pointer;\n  svg {\n    color: ",";\n    transition: color 300ms;\n  }\n\n  span {\n    color: ",";\n    transition: color 300ms;\n  }\n\n  &:hover {\n    svg {\n      color: ",";\n    }\n\n    span {\n      color: ",";\n      transition: color 300ms;\n    }\n  }\n"])),(function(e){return e.theme.player.element.link.foreground}),(function(e){return e.theme.player.element.link.foreground}),(function(e){return e.theme.player.element.link.hover}),(function(e){return e.theme.player.element.link.hover})),wl=(0,r.forwardRef)((function(e,t){var n=e.element,i=e.step,o=e.className;if(i.context.type!==fe.LinkTarget)throw new Error("link has to be a target");var a=n.typesetting&&"r"===n.typesetting.d,c=rc(n,i,ec),l=i.box.plain||"",u=(0,r.useCallback)((function(){if(l){var e=window.open(l,"_blank");e&&e.focus()}}),[l]),s=r.createElement(ol,null),d=i.context.icon;return"doc"===d?s=r.createElement(ll,null):"video"===d?s=r.createElement(gl,null):"mail"===d?s=r.createElement(ml.b,null):"phone"===d&&(s=r.createElement(bl.q,null)),r.createElement(yl,{ref:t,className:o,bounds:n.bounds,onClick:u},r.createElement(hl,null),r.createElement(vl,{rtl:a},s),n.typesetting&&r.createElement(_a,{bounds:c,data:n.typesetting}))}));wl.displayName="Link";var kl=(0,r.forwardRef)((function(e,t){var n=e.element,i=e.step,o=e.className,a=rc(n,i,tc);return r.createElement(Na,{ref:t,className:o,bounds:n.bounds},n.typesetting&&r.createElement(_a,{bounds:a,data:n.typesetting}))}));kl.displayName="ImageLabel";var Ol=(0,r.forwardRef)((function(e,t){var n=e.element,i=e.step,o=e.className,a=rc(n,i,nc);return r.createElement(Na,{ref:t,className:o,bounds:n.bounds},n.typesetting&&r.createElement(_a,{bounds:a,data:n.typesetting}))}));Ol.displayName="CardText";var xl,El,Pl,jl,zl,Sl,Cl,Il,Yl,Zl,Ll,Dl,Al=function(e){switch(e){case za.ImageLabelDescription:case za.Paragraph:case za.Heading:return ic;case za.Image:return Nc;case za.ListItem:return _c;case za.HighlightParagraph:return lc;case za.QuestionAnswer:return Jc;case za.Video:return nl;case za.Link:return wl;case za.ImageLabel:return kl;case za.CardText:return Ol;default:return Kc}},Tl=ao.ZP.div(xl||(xl=(0,oo.Z)(["\n  position: relative;\n  flex: 0 0 ","px;\n  min-width: ","px;\n  min-height: ","px;\n  overflow: hidden;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-bottom: 1px solid black;\n"])),(function(e){return e.dim.width}),(function(e){return e.dim.width}),(function(e){return e.dim.height})),Rl=ao.ZP.div(El||(El=(0,oo.Z)(["\n  position: relative;\n  width: ","px;\n  height: ","px;\n  /* overflow: hidden; */\n"])),(function(e){return e.size.width}),(function(e){return e.size.height})),Ml=ao.ZP.div(Pl||(Pl=(0,oo.Z)(["\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  bottom: 0px;\n  overflow-x: hidden;\n  overflow-y: ",";\n"])),(function(e){return e.hideScroll?"hidden":"scroll"})),ql=ao.ZP.div.attrs((function(e){return{style:e.bounds}}))(jl||(jl=(0,oo.Z)(["\n  position: absolute;\n"]))),Fl=(ao.ZP.div.attrs((function(e){return{style:e.bounds}}))(zl||(zl=(0,oo.Z)(["\n  position: absolute;\n"]))),function(e){var t=e.page,n=Nt(t);return r.createElement(Nl,{els:et(t),animationRefs:n})}),Nl=function(e){var t=e.els,n=e.animationRefs,i=(0,o.I0)(),a=(0,o.v9)(Vt),c=(0,o.oR)(),l=(0,r.useCallback)((function(e,t){c.injectedVideoPlayers[e]=t}),[]),u=(0,r.useCallback)((function(e,t){i(Q(!t))}),[i]);return r.createElement(r.Fragment,null,t.map((function(e,t){var i=Al(e.type);return r.createElement(i,{step:a[e.cid].step,ref:n&&n.cid(e.cid),element:e,key:t,onVideoReady:l,onFullscreen:u})})))},Vl=ao.ZP.div.attrs((function(e){var t=e.backgroundImageUrl,n=e.size,r=e.focus;return{style:{backgroundImage:"url(".concat(t,")"),width:n.width,height:n.height,backgroundPositionX:"".concat(100*r.x,"%"),backgroundPositionY:"".concat(100*r.y,"%"),left:0,top:0}}}))(Sl||(Sl=(0,oo.Z)(["\n  position: absolute;\n  background-size: cover;\n"]))),Bl=ao.ZP.div.attrs((function(e){var t=e.bounds;return{style:{width:t.width,height:t.height,left:t.left,top:t.top}}}))(Cl||(Cl=(0,oo.Z)(["\n  position: absolute;\n  overflow: hidden;\n"]))),Hl=(0,r.forwardRef)((function(e,t){var n=e.bounds,i=e.image,o=e.hideLicense,a=e.licensePosition,c=Wl(i),l=!(!i||!i.reference||o&&!1!==o),u=i,s=i&&i.focusarea?i.focusarea:ue;return r.createElement(Bl,{bounds:n},r.createElement(Vl,{backgroundImageUrl:c,size:n,focus:s,ref:t}),l&&r.createElement(Zc,{position:a||"bottom",image:u}))}));Hl.displayName="BackgroundImage";var Ql=ao.ZP.div.attrs((function(e){var t=e.bounds;return{style:{width:t.width,height:t.height,left:t.left,top:t.top}}}))(Il||(Il=(0,oo.Z)(["\n  position: absolute;\n  background: ",";\n  background: ",";\n"])),(function(e){return e.backgroundColor.fallback}),(function(e){return e.backgroundColor.gradient})),$l=ao.ZP.div.attrs((function(e){var t=e.bounds;return{style:{width:t.width,height:t.height,left:t.left,top:t.top}}}))(Yl||(Yl=(0,oo.Z)(["\n  position: absolute;\n  background-color: ",";\n"])),(function(e){var t=e.variant,n=e.theme;return(0,lo.pe)(t)({theme:n})})),Xl=ao.ZP.div.attrs((function(e){var t=e.bounds;return{style:{width:t.width,height:t.height,left:t.left,top:t.top}}}))(Zl||(Zl=(0,oo.Z)(["\n  position: absolute;\n  /* add vendor prefix for safari if detection fails  */\n  ","\n"])),(function(e){var t=e.radius,n=e.theme;return(0,Da.tE)()?"backdrop-filter: blur(".concat(t,"px);\n        -webkit-backdrop-filter: blur(").concat(t,"px);"):"background: ".concat((0,lo.pe)("background")({theme:n}),"f2;")})),Ul=ao.ZP.div(Ll||(Ll=(0,oo.Z)(["\n  span {\n    color: ",";\n  }\n"])),(function(e){return e.color})),_l=ao.ZP.div(Dl||(Dl=(0,oo.Z)(["\n  .box {\n    text-align: center;\n  }\n"]))),Wl=function(e){var t=e,n=(0,r.useContext)(Kn.E6);return t&&t.reference?n(t.reference):t&&t.url?t.url:void 0},Jl=function(e){var t=e.page,n=e.windowDimensions,i=e.containerSize,o=(0,ao.Fg)(),a={top:0,left:0,width:n.width,height:n.height/2},c={top:n.height/2-(t.title.bounds.height+64),left:0,width:n.width,height:t.title.bounds.height+64},l=Nt(t);return r.createElement(Tl,{dim:n},r.createElement(Hl,{image:t.backgroundImage,bounds:a,ref:l.name("backgroundImage")}),r.createElement(Ql,{bounds:c,backgroundColor:o.player.titleColumn1Page.overlay,ref:l.name("box")}),r.createElement(Rl,{size:i},r.createElement(Ul,{color:o.player.titleColumn1Page.font},r.createElement(Nl,{els:[t.title],animationRefs:l})),r.createElement(Nl,{els:t.elements,animationRefs:l})))},Gl=function(e){var t=e.page,n=e.windowDimensions,i=e.containerSize,o=(0,ao.Fg)(),a={top:0,left:0,width:n.width,height:n.height/2},c={top:n.height/2-(t.title.bounds.height+64),left:0,width:n.width,height:t.title.bounds.height+64},l=Nt(t);return r.createElement(Tl,{dim:n},r.createElement(Hl,{image:t.backgroundImage,bounds:a,ref:l.name("backgroundImage")}),r.createElement(Ql,{bounds:c,backgroundColor:o.player.titleColumn2Page.overlay,ref:l.name("box")}),r.createElement(Rl,{size:i},r.createElement(Ul,{color:o.player.titleColumn2Page.font},r.createElement(Nl,{els:[t.title],animationRefs:l})),r.createElement(Nl,{els:t.column1,animationRefs:l}),r.createElement(Nl,{els:t.column2,animationRefs:l})))},Kl=function(e){var t=e.page,n=e.windowDimensions,i=e.containerSize;return r.createElement(Tl,{dim:n},r.createElement(Rl,{size:i},r.createElement(Fl,{page:t})))},eu=function(e){var t=e.page,n=e.windowDimensions,i=e.containerSize,o=Nt(t);return r.createElement(Tl,{dim:n},r.createElement(Hl,{bounds:{width:n.width/2,height:n.height,left:0,top:0},image:t.backgroundImage,ref:o.name("backgroundImage")}),r.createElement(Rl,{size:i},r.createElement(Fl,{page:t})))},tu=function(e){var t=e.page,n=e.windowDimensions,i=e.containerSize,o=Nt(t);return r.createElement(Tl,{dim:n},r.createElement(Hl,{bounds:{width:n.width,height:Math.round(n.height/3),left:0,top:0},ref:o.name("backgroundImage"),image:t.backgroundImage}),r.createElement(Rl,{size:i},r.createElement(Fl,{page:t})))},nu=function(e){var t=e.page,n=e.windowDimensions,i=e.containerSize,o=Nt(t);return r.createElement(Tl,{dim:n},r.createElement(Hl,{bounds:{width:n.width,height:Math.round(n.height/3),left:0,top:0},ref:o.name("backgroundImage"),image:t.backgroundImage}),r.createElement(Rl,{size:i},r.createElement(Fl,{page:t})))},ru=function(e){var t=e.page,n=e.windowDimensions,i=e.containerSize,a=(0,o.v9)(Vt)[t.image.cid].step,c={top:0,left:0,width:n.width/2,height:n.height};return r.createElement(Tl,{dim:n},r.createElement(Hl,{image:a.box.image,bounds:c,hideLicense:!0}),r.createElement(Xl,{bounds:c,radius:100}),r.createElement(Rl,{size:i},r.createElement(Fl,{page:t})))},iu=function(e){var t=e.page,n=e.windowDimensions,i=e.containerSize,a=(0,o.v9)(Vt)[t.image.cid].step,c={top:0,left:0,width:(n.width-i.width)/2+i.width/3*2,height:n.height};return r.createElement(Tl,{dim:n},r.createElement(Hl,{image:a.box.image,bounds:c,hideLicense:!0}),r.createElement(Xl,{bounds:c,radius:100}),r.createElement(Rl,{size:i},r.createElement(Fl,{page:t})))};function ou(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var au=function(e){var t=e.page,n=e.windowDimensions,i=e.containerSize,c=(0,o.v9)(Vt)[t.image.cid].step,l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ou(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ou(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({top:0,left:0},n);return r.createElement(Tl,{dim:n},r.createElement(Hl,{bounds:l,image:c.box.image,hideLicense:!0}),r.createElement(Xl,{bounds:l,radius:100}),r.createElement(Rl,{size:i},r.createElement(Fl,{page:t})))};function cu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cu(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var uu=function(e){var t=e.page,n=e.windowDimensions,i=e.containerSize,a=(0,o.v9)(Vt)[t.image.cid].step,c=Math.round(n.height/3),l={width:n.width,height:c,top:0,left:0},u=lu({},t.image);u.bounds=lu(lu({},u.bounds),{},{top:Math.round((c-t.image.bounds.height)/2),left:Math.round((n.width-t.image.bounds.width)/2)});var s=Al(t.image.type),d=et(t).filter((function(e){return e.type!==za.Image}));return r.createElement(Tl,{dim:n},r.createElement(Hl,{image:a.box.image,bounds:l,hideLicense:!0}),r.createElement(Xl,{bounds:l,radius:100}),r.createElement(s,{step:a,element:u}),r.createElement(Rl,{size:i},r.createElement(Nl,{els:d})))};function su(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function du(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?su(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):su(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fu,pu,gu=function(e){var t=e.page,n=e.windowDimensions,i=e.containerSize,o=(0,ao.Fg)(),a=Nt(t);return r.createElement(Tl,{dim:n},r.createElement(Hl,{image:t.backgroundImage,bounds:du(du({},n),{},{left:0,top:0}),licensePosition:"top",ref:a.name("backgroundImage")}),r.createElement(Ql,{bounds:du(du({},n),{},{left:0,top:0}),backgroundColor:o.player.titlePage.overlay}),r.createElement(Rl,{size:i},t.subtitle?r.createElement(Ul,{color:o.player.titlePage.font},r.createElement(Nl,{animationRefs:a,els:[t.title,t.subtitle]})):r.createElement(Ul,{color:o.player.titlePage.font},r.createElement(_l,null,r.createElement(Nl,{animationRefs:a,els:[t.title]})))))},mu=ao.ZP.div.attrs((function(e){var t=e.bounds;return{style:{width:t.width,height:t.height}}}))(fu||(fu=(0,oo.Z)(["\n  position: relative;\n  border-width: 2px;\n  border-style: solid;\n  > div {\n    margin-top: -2px;\n    margin-left: -2px;\n  }\n\n  box-sizing: border-box;\n  cursor: ",";\n  ","\n"])),(function(e){return e.disabled?"not-allowed":"pointer"}),(function(e){var t=e.state,n=e.theme,r=e.disabled;switch(t){case"unselected":return"\n            border-color: transparent;\n            background-color: ".concat(n.player.element.question.answer.background,";\n            \n            &:hover {\n              border-color: ").concat(r?"transparent":n.player.element.question.answer.border,";\n            }\n        ");case"selected":return"\n            border-color: ".concat(n.player.element.question.answer.border,";\n            background-color: ").concat(n.player.element.question.answer.background,";\n          ");case"selected-correct":return"\n            border-color: ".concat(n.player.element.question.answer.border,";\n            background-color: ").concat((0,lo.pe)("success")({theme:n}),";\n            * {\n              color: ").concat((0,lo.pe)(["success","inverse"])({theme:n})," !important;\n            }\n          ");case"selected-wrong":return"\n            border-color: ".concat(n.player.element.question.answer.border,";\n            background-color: ").concat(n.player.element.question.answer.background,";\n            * {\n              text-decoration: line-through;\n            }\n          ");case"unselected-correct":return"\n            border-color: transparent;\n            background-color: ".concat((0,lo.pe)("success")({theme:n}),";\n            * {\n              color: ").concat((0,lo.pe)(["success","inverse"])({theme:n})," !important;\n            }\n          ");case"unselected-wrong":return"\n            border-color: transparent;\n            background-color: ".concat(n.player.element.question.answer.background,";\n            * {\n              text-decoration: line-through;\n            }\n        ");default:throw new Error("state ".concat(t," not supported"))}})),bu=(0,r.forwardRef)((function(e,t){var n=e.step,i=e.element,a=e.state,c=e.disabled,l=(0,o.I0)(),u=(0,r.useCallback)((function(){return l(O(n.cid))}),[l,n.cid]);return r.createElement(mu,{ref:t,disabled:c,state:a,onClick:u,bounds:i.bounds},r.createElement(Nl,{els:[i]}))}));bu.displayName="Answer";var hu,vu,yu,wu,ku=ao.ZP.div.attrs((function(e){var t=e.bounds;return{style:{top:t.top,left:t.left,width:t.width,height:t.height}}}))(pu||(pu=(0,oo.Z)(["\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n"]))),Ou=n(2769),xu=n(5488),Eu=ao.ZP.div.attrs((function(e){var t=e.bounds;return{style:{top:t.top,left:t.left,width:t.width,height:t.height}}}))(hu||(hu=(0,oo.Z)(["\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  transform: scale(1);\n  div {\n    text-align: center;\n  }\n  &.hidden {\n    transform: scale(0);\n  }\n"]))),Pu=ao.ZP.div.attrs({children:r.createElement(Ou.T,null)})(vu||(vu=(0,oo.Z)(["\n  position: absolute;\n  top: 0;\n  width: 52px;\n  height: 52px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: ",";\n  border-radius: 52px;\n  color: ",";\n\n  svg line {\n    stroke: ",";\n  }\n"])),(0,lo.pe)("danger"),(0,lo.pe)(["danger","inverse"]),(0,lo.pe)(["danger","inverse"])),ju=ao.ZP.div.attrs({children:r.createElement(xu.n,null)})(yu||(yu=(0,oo.Z)(["\n  position: absolute;\n  top: 0;\n  width: 52px;\n  height: 52px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: ",";\n  border-radius: 52px;\n  color: ",";\n  svg line {\n    stroke: ",";\n  }\n"])),(0,lo.pe)("success"),(0,lo.pe)(["success","inverse"]),(0,lo.pe)(["danger","inverse"])),zu=function(e){var t=e.state,n=e.feedbackContainer,i=e.correct,o=e.wrong,a=e.submit,c=e.tryAgain,l=e.animationRefs;return r.createElement(r.Fragment,null,r.createElement(Eu,{bounds:n,className:"submit"===t?"visible":"hidden"},a),r.createElement(Eu,{bounds:n,className:"try-again"===t?"visible":"hidden"},c),r.createElement(Eu,{bounds:n,className:"correct"===t?"visible":"hidden"},r.createElement(ju,{ref:l.name("iconCorrect")}),i),r.createElement(Eu,{bounds:n,className:"wrong"===t?"visible":"hidden"},r.createElement(Pu,{ref:l.name("iconWrong")}),o))},Su=n(9632),Cu=(0,ao.ZP)((function(e){var t=e.containerRef,n=e.className,i=t.current;return i?r.createElement("div",{className:n},r.createElement(uc.z,{variant:"primary",onClick:function(){i.scrollTo({top:i.scrollHeight,behavior:"smooth"})}},r.createElement(Su.K,null))):r.createElement(r.Fragment,null)}))(wu||(wu=(0,oo.Z)(["\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  bottom: 0px;\n  left: 0px;\n  right: 0px;\n  height: 134px;\n  background: linear-gradient(\n    0deg,\n    "," 0%,\n    "," 62%,\n    transparent 100%\n  );\n  opacity: ",";\n  pointer-events: ",";\n\n  > div {\n    margin-bottom: 27px;\n    z-index: 4;\n  }\n"])),(0,lo.pe)("canvas"),(0,lo.pe)("canvas"),(function(e){return e.isOnScrollEnd?0:1}),(function(e){return e.isOnScrollEnd?"none":"auto"})),Iu=function(e){var t=e.page,n=e.windowDimensions,i=(0,r.useRef)(),a=(0,r.useState)(!1),c=(0,Pr.Z)(a,2),l=c[0],u=c[1],s=(0,o.v9)(an),d=(0,o.v9)(en),f=Al(t.question.type),p=t.feedbackCorrect?Al(t.feedbackCorrect.type):void 0,g=t.image?Al(t.image.type):void 0,m=s.find((function(e){return e&&e.question.step.cid===t.question.cid})),b=m.hasScroll,h=m.scrollInner,v=m.question,y=m.answers,w=m.image,k=m.feedbackContainer,O=m.feedbackState,E=m.feedbackSubmitActive,P=m.feedbackCorrect,j=m.feedbackWrong,z=m.backgroundColorBounds,S=(0,o.I0)(),C=(0,r.useCallback)((function(){return S(B(v.step.cid))}),[S,v.step.cid]),I=(0,r.useCallback)((function(){return S(x(v.step.cid))}),[S,v.step.cid]);(0,r.useEffect)((function(){if(i.current){var e=i.current,t=function(){var t=e.clientHeight+e.scrollTop>=e.scrollHeight-25;t!==l&&u(t)};return e.addEventListener("scroll",t),function(){e.removeEventListener("scroll",t)}}}),[u,l]),(0,r.useEffect)((function(){if(i.current){var e=i.current;"correct"!==O&&"wrong"!==O||e.scrollTo({top:e.scrollHeight,behavior:"smooth"})}}),[O]);var Y=(0,ao.Fg)(),Z="primary";"correct"===O?Z="success":"wrong"===O?Z="danger":"try-again"===O&&(Z="warning");var L=Nt(t);return r.createElement(Tl,{dim:n},r.createElement(Ml,{ref:i,hideScroll:!b},r.createElement(Ql,{bounds:z,backgroundColor:Y.player.element.question.background}),r.createElement(ql,{bounds:h},r.createElement(f,{ref:L.cid(v.step.cid),step:v.step,element:t.question}),t.indicator&&r.createElement($l,{ref:L.name("indicator"),bounds:t.indicator,variant:Z}),g&&w&&r.createElement(g,{ref:L.cid(w.step.cid),step:w.step,element:w.el}),d&&r.createElement(r.Fragment,null,r.createElement(ku,{bounds:t.answerContainer},y.map((function(e){var t=e.el,n=e.step,i=e.state;return r.createElement(bu,{ref:L.cid(t.cid),disabled:"submit"!==O,key:t.cid,step:n,element:t,state:i})}))),r.createElement(zu,{feedbackContainer:k,state:O,animationRefs:L,submit:r.createElement(uc.z,{ref:L.name("submit"),variant:"primary",onClick:C,disabled:!E},t.translation.submit),correct:p&&P&&r.createElement(p,{ref:L.cid(P.el.cid),step:P.step,element:P.el}),wrong:p&&j&&r.createElement(p,{ref:L.cid(j.el.cid),step:j.step,element:j.el}),tryAgain:r.createElement(uc.z,{ref:L.name("tryAgain"),variant:"warning",onClick:I},t.translation.tryAgain)})))),b&&r.createElement(Cu,{isOnScrollEnd:l,containerRef:i}))},Yu=["fillColor"];function Zu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Lu=function(e){var t=e.fillColor,n=(0,co.Z)(e,Yu);return r.createElement(uo.JO,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zu(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n),r.createElement(uo.y$,{color:n.color||"currentColor",fillColor:t,d:"m13.49,18.5c-.037-.926.102-1.851.41-2.725.287-.683.746-1.28,1.332-1.732.472-.359.906-.766,1.295-1.214.42-.484.63-1.12.577-1.759-.083-.998-.619-1.497-1.607-1.497-.46-.016-.904.174-1.208.52-.326.396-.5.895-.489,1.407h-4.207c-.059-1.401.518-2.754,1.57-3.682,1.238-.947,2.777-1.415,4.333-1.318,1.53-.095,3.047.334,4.3,1.218,1.033.845,1.6,2.132,1.526,3.464.008.62-.133,1.232-.41,1.786-.341.62-.787,1.176-1.319,1.643l-1.433,1.265c-.364.312-.653.702-.846,1.141-.174.476-.262.978-.262,1.485h-3.561Z",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement(uo.y$,{color:n.color||"currentColor",fillColor:t,d:"m15.458,25.384c-1.215,0-2.2-.985-2.2-2.2s.985-2.2,2.2-2.2,2.2.985,2.2,2.2-.985,2.2-2.2,2.2h0",strokeLinecap:"round",strokeLinejoin:"round"}))};Lu.displayName="QuestionMarkIcon";var Du=Lu,Au=["fillColor"];function Tu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ru=function(e){var t=e.fillColor,n=(0,co.Z)(e,Au);return r.createElement(uo.JO,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tu(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n),r.createElement(uo.y$,{color:n.color||"currentColor",fillColor:t,d:"m25.29,25.639H6.711c-.663.008-1.206-.523-1.213-1.188-.003-.211.051-.42.155-.604L14.941,7.117c.217-.381.622-.617,1.062-.617.438-.002.842.234,1.053.617l9.292,16.73c.209.375.203.832-.017,1.199-.219.367-.614.592-1.041.592Zm-9.287-5.639c-.828,0-1.5.672-1.5,1.5s.672,1.5,1.5,1.5,1.5-.672,1.5-1.5-.672-1.5-1.5-1.5h0,0Zm0-8c-.553,0-1,.447-1,1v4c0,.553.447,1,1,1s1-.447,1-1v-4c0-.553-.447-1-1-1h0,0Z",strokeLinecap:"round",strokeMiterlimit:"10"}))};Ru.displayName="CautionIcon";var Mu=Ru,qu=["fillColor"];function Fu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Nu=function(e){var t=e.fillColor,n=(0,co.Z)(e,qu);return r.createElement(uo.JO,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fu(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n),r.createElement(uo.UL,{color:n.color||"currentColor",fillColor:t,x:"12.501",y:"24",width:"7",height:"3",rx:"1",ry:"1",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement(uo.y$,{color:n.color||"currentColor",fillColor:t,d:"m19.048,6.706c-.95-.46-1.99-.702-3.045-.706-.167,0-.334.006-.5.018-3.856.277-6.758,3.627-6.481,7.483.135,1.876,1.018,3.619,2.452,4.836.34.298.532.731.526,1.183v.88c0,.884.716,1.6,1.6,1.6h4.8c.884,0,1.6-.716,1.6-1.6v-.877c0-.448.188-.876.518-1.179.748-.605,1.361-1.36,1.8-2.216,1.699-3.505.235-7.723-3.27-9.422Zm-4.425,4.917c-.976.976-2.243,1.293-2.829.708-.586-.585-.269-1.853.708-2.829.977-.976,2.242-1.293,2.828-.707.586.586.269,1.852-.707,2.828Z",strokeLinecap:"round",strokeLinejoin:"round"}))};Nu.displayName="BulbIcon";var Vu=Nu,Bu=["fillColor"];function Hu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Qu=function(e){var t=e.fillColor,n=(0,co.Z)(e,Bu);return r.createElement(uo.JO,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hu(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n),r.createElement(uo.y$,{color:n.color||"currentColor",fillColor:t,d:"m14.242,19.28l-.754-7.62-.188-4.66h5.4l-.188,4.66-.754,7.62h-3.516Z",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement(uo.y$,{color:n.color||"currentColor",fillColor:t,d:"m16.007,25.998c-1.215,0-2.2-.985-2.2-2.2s.985-2.2,2.2-2.2,2.2.985,2.2,2.2-.985,2.2-2.2,2.2h0",strokeLinecap:"round",strokeLinejoin:"round"}))};Qu.displayName="ExclamationIcon";var $u=Qu,Xu=["fillColor"];function Uu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var _u=function(e){var t=e.fillColor,n=(0,co.Z)(e,Xu);return r.createElement(uo.JO,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uu(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n),r.createElement(uo.y$,{d:"M10.843,16.531a4.248,4.248,0,0,1-2.718-1.306,3.685,3.685,0,0,1-.016-5.163A3.512,3.512,0,0,1,10.718,9a3.952,3.952,0,0,1,3.016,1.382A4.748,4.748,0,0,1,15,13.706Q15,19.658,8.219,23L7,20.813Q10.843,18.99,10.843,16.531Z",fillColor:t,color:n.color||"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement(uo.y$,{d:"M20.843,16.531a4.248,4.248,0,0,1-2.718-1.306,3.685,3.685,0,0,1-.016-5.163A3.512,3.512,0,0,1,20.718,9a3.952,3.952,0,0,1,3.016,1.382A4.748,4.748,0,0,1,25,13.706Q25,19.658,18.219,23L17,20.813Q20.843,18.99,20.843,16.531Z",fillColor:t,color:n.color||"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))};_u.displayName="QuotationIcon";var Wu,Ju=_u;function Gu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ku(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gu(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var es=ao.ZP.div.attrs((function(e){var t=e.bounds;return{style:{width:t.width,height:t.height,left:t.left,top:t.top}}}))(Wu||(Wu=(0,oo.Z)(["\n  position: absolute;\n"]))),ts=function(e){var t=e.page,n=e.windowDimensions,i=e.containerSize,a=(0,ao.Fg)(),c=(0,o.v9)(Vt),l=Nt(t),u=function(e){if(e.type===fe.CitationContent)switch(e.icon){case"question":return Du;case"attention":return Mu;case"bulb":return Vu;case"exclamation":return $u;default:return Ju}return Ju}(c[t.content.cid].step.context),s=a.player.citationPage.citeIcon,d=s.fill,f=s.stroke;return r.createElement(Tl,{dim:n},r.createElement(Hl,{image:t.backgroundImage,ref:l.name("backgroundImage"),bounds:Ku(Ku({},n),{},{left:0,top:0}),licensePosition:"top"}),r.createElement(Rl,{size:i},r.createElement(Ql,{ref:l.name("box"),bounds:t.overlayBounds,backgroundColor:a.player.citationPage.overlay}),r.createElement(es,{bounds:t.citationImageBounds,ref:l.name("icon")},r.createElement(u,{size:t.citationImageBounds.width,color:f,fillColor:d})),t.suffix?r.createElement(Ul,{color:a.player.citationPage.font},r.createElement(Nl,{els:[t.content,t.suffix],animationRefs:l})):r.createElement(Ul,{color:a.player.citationPage.font},r.createElement(_l,null,r.createElement(Nl,{els:[t.content],animationRefs:l})))))},ns=function(e){var t=e.page,n=e.windowDimensions,i=e.containerSize;return r.createElement(Tl,{dim:n},r.createElement(Rl,{size:i},r.createElement(Fl,{page:t})))};function rs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var is=function(e){var t=e.page,n=e.windowDimensions,i=e.containerSize,o=e.animate,c=Nt(t);return r.createElement(Tl,{dim:n},r.createElement("div",{ref:c.cid(t.link.cid),style:i},r.createElement("iframe",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rs(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({sandbox:"allow-downloads allow-forms allow-scripts allow-same-origin allow-presentation",allow:"accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:t.title,src:"off"===o?"about:blank":t.target,frameBorder:"0"},i))))},os=function(e){var t=e.page,n=e.windowDimensions,i=e.containerSize,o=(0,ao.Fg)(),a={width:n.width,height:Math.round(n.height/3),left:0,top:0},c={top:Math.round(n.height/3-(t.title.bounds.height+t.titleMargin)),left:0,width:n.width,height:t.title.bounds.height+t.titleMargin};return r.createElement(Tl,{dim:n},r.createElement(Hl,{bounds:a,image:t.backgroundImage}),r.createElement(Ql,{bounds:c,backgroundColor:o.player.titleVerticalThirdPage.overlay}),r.createElement(Rl,{size:i},r.createElement(Ul,{color:o.player.titleVerticalThirdPage.font},r.createElement(Nl,{els:[t.title]})),r.createElement(Nl,{els:t.elements})))},as=function(e){var t=e.page,n=e.windowDimensions,i=e.containerSize,o=(0,ao.Fg)(),a=Nt(t);return r.createElement(Tl,{dim:n},r.createElement(Rl,{size:i},r.createElement(Ql,{bounds:t.elementsOverlayBounds,backgroundColor:o.player.element.overlay,ref:a.name("box")}),r.createElement(Fl,{page:t})))};function cs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ls=function(e){return r.createElement(uo.JO,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cs(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),r.createElement(uo.x1,{color:e.color||"currentColor",x1:"16",y1:"9",x2:"16",y2:"23",strokeLinecap:"round",strokeMiterlimit:"10"}),r.createElement(uo.x1,{color:e.color||"currentColor",x1:"23",y1:"16",x2:"9",y2:"16",strokeLinecap:"round",strokeMiterlimit:"10"}))};ls.displayName="PlusIcon";var us,ss=ls;function ds(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ds(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ds(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ps=(0,ao.ZP)(ss)(us||(us=(0,oo.Z)(["\n  & > * {\n    stroke-width: 2px;\n  }\n"]))),gs={right:0},ms=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32;return(0,r.useMemo)((function(){var n=e.imageOptions;if(n&&n.fondlerIcon)return n.fondlerIcon,r.createElement(ps,{size:t})}),[e,t])},bs=function(e){var t=e.page,n=e.windowDimensions,i=e.containerSize,a=e.animate,c=(0,ao.Fg)(),l=(0,o.I0)(),u=(0,o.v9)(kn),s=(0,o.v9)(Vt)[t.image.cid].step,d=Nt(t),f=Al(t.image.type),p=u[t.image.cid],g=p.balls,m=p.image,b=g.find((function(e){return e.active})),h=ms(s.context,32),v=(0,r.useCallback)((function(e){return l(A(e))}),[l]),y=(0,r.useCallback)((function(e){return l(A(e))}),[l]);return r.createElement(Tl,{dim:n},r.createElement(Rl,{size:i},t.descriptionBounds&&r.createElement(Ql,{bounds:t.descriptionBounds,backgroundColor:c.player.element.overlay,ref:d.name("box")}),r.createElement(f,{step:m.step,element:m.el,ref:d.cid(m.step.cid)}),b&&b.description&&r.createElement(Nl,{els:[b.description.el],animationRefs:d}),!b&&t.caption&&r.createElement(Nl,{els:[t.caption],animationRefs:d}),r.createElement(_o.vw,fs(fs({},t.image.bounds),{},{balls:g,ballSize:32,className:"current"===a?"enter":"",onClick:function(e){e.stopPropagation(),y&&y(t.image.cid)},renderBall:function(e){return r.createElement(_o.g9,{size:32,index:e,tabIndex:e,ref:d.cid(g[e].label.step.cid),className:"current"===a?"shockwave":"",labelAlign:{vertical:g[e].x>.5?"left":"right",horizontal:g[e].y>.5?"up":"down"},progress:100*g[e].progress,active:g[e].active&&void 0!==g[e].label.step.box.plain&&g[e].label.step.box.plain.trim().length>0,onClick:function(t){t.stopPropagation(),v&&v(g[e].id)},icon:h},g[e].active&&b&&b.label.el.typesetting&&r.createElement(Xa,{columnLayout:b.label.el.typesetting,lineContainerStyle:gs}))}}))))},hs=function(e){var t=e.page,n=e.windowDimensions,i=e.containerSize,a=e.animate,c=(0,ao.Fg)(),l=(0,o.I0)(),u=(0,r.useRef)(),s=(0,r.useState)(!1),d=(0,Pr.Z)(s,2),f=d[0],p=d[1],g=(0,o.v9)(kn),m=Al(t.image.type),b=(0,o.v9)(Et),h=(0,o.v9)(Vt)[t.image.cid].step,v=!1,y={width:i.width,height:i.height};t.descriptionBounds&&t.descriptionBounds.top+t.descriptionBounds.height>=n.height-80&&(v=!0,y.height=t.descriptionBounds.top+t.descriptionBounds.height+80);var w=g[t.image.cid],O=w.balls,x=w.image,E=(0,r.useCallback)((function(e){return l(k({cid:e}))}),[l]);(0,r.useEffect)((function(){if(u.current){var e=u.current,t=function(){var t=e.clientHeight+e.scrollTop===e.scrollHeight;t!==f&&p(t)};return e.addEventListener("scroll",t),function(){e.removeEventListener("scroll",t)}}}),[p,f]);var P=ms(h.context,31);return r.createElement(Tl,{dim:n},r.createElement(Ml,{ref:u,hideScroll:!v||"current"!==a},r.createElement(ql,{bounds:y},r.createElement(Hl,{bounds:t.backdropBounds,image:x.step.box.image,hideLicense:!0}),r.createElement(Xl,{bounds:t.backdropBounds,radius:50}),r.createElement(m,{step:x.step,element:x.el}),r.createElement(_o.vw,fs(fs({},t.image.bounds),{},{balls:O,ballSize:31,className:b&&"current"===a?"enter":b||"current"!==a?"":"mobile",renderBall:function(e){return r.createElement(_o.pm,{size:31,className:b&&"current"===a?"shockwave":"",progress:100*O[e].progress,active:"ball"===t.active.kind&&O[e].id===t.active.label.cid,onClick:function(t){t.stopPropagation(),E&&E(O[e].id)}},P||e+1)}})),t.descriptionBounds&&r.createElement(Ql,{bounds:t.descriptionBounds,backgroundColor:c.player.element.overlay}),t.active&&"caption"===t.active.kind&&r.createElement(Nl,{els:[t.active.caption]}),t.active&&"ball"===t.active.kind&&r.createElement(Nl,{els:t.active.description?[t.active.label,t.active.description]:[t.active.label]}),v&&r.createElement("div",{style:{height:"150px"}}))),v&&r.createElement(Cu,{isOnScrollEnd:f,containerRef:u}))};function vs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ys=function(e){return r.createElement(uo.JO,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vs(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),r.createElement(uo.y$,{color:e.color||"currentColor",d:"m14,10.5h3.333c2.209,0,4,1.791,4,4h0",strokeLinecap:"round",strokeMiterlimit:"10"}),r.createElement(uo.y$,{color:e.color||"currentColor",d:"m12,18.5h5.333c2.209,0,4-1.791,4-4",strokeLinecap:"round",strokeMiterlimit:"10"}),r.createElement(uo.y$,{color:e.color||"currentColor",d:"m14,15.5l-3,3,3,3",strokeLinecap:"round",strokeMiterlimit:"10"}))};ys.displayName="FlipIcon";var ws,ks,Os,xs,Es,Ps,js,zs,Ss=ys;function Cs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Is(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cs(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ys=ao.ZP.div.attrs((function(e){return{style:Is({},e.bounds)}}))(ws||(ws=(0,oo.Z)(["\n  position: absolute;\n  background-color: transparent;\n  cursor: ",";\n  width: 200px;\n  height: 300px;\n  perspective: 1000px; /* Remove this if you don't want the 3D effect */\n"])),(function(e){return e.canFlip?"pointer":"inherit"})),Zs=ao.ZP.div(ks||(ks=(0,oo.Z)(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  text-align: center;\n  transition: transform 0.8s;\n  transform-style: preserve-3d;\n  &.reversed {\n    transform: rotateY(180deg);\n  }\n"]))),Ls=ao.ZP.div.attrs((function(e){var t=e.backgroundImage;return{style:{backgroundImage:t?"url(".concat(t,")"):void 0}}}))(Os||(Os=(0,oo.Z)(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  backface-visibility: hidden;\n  display: block;\n  box-shadow: ",";\n  border-radius: ","px;\n  color: "," !important;\n  background: ",";\n  background: ",";\n\n  ","\n\n  span {\n    color: "," !important;\n  }\n"])),(function(e){return e.theme.player.cardsPage.boxShadow}),(function(e){return e.theme.player.cardsPage.borderRadius}),(function(e){var t=e.cardTheme;return void 0===e.backgroundImage?t.foreground:t.imageForeground}),(function(e){return e.cardTheme.background.fallback}),(function(e){return e.cardTheme.background.gradient}),(function(e){var t=e.cardTheme,n=e.backgroundImage,r=e.backgroundPosition;return n?"\n  background-position: ".concat(r,";\n  background-size: cover;\n  background-color: ").concat(t.background.fallback,";\n  "):"\n  background: ".concat(t.background.fallback,";\n  background: ").concat(t.background.gradient,";\n  ")}),(function(e){var t=e.cardTheme;return void 0===e.backgroundImage?t.foreground:t.imageForeground})),Ds=(0,ao.ZP)(Ls)(xs||(xs=(0,oo.Z)([""]))),As=(0,ao.ZP)(Ls)(Es||(Es=(0,oo.Z)(["\n  transform: rotateY(180deg);\n"]))),Ts=ao.ZP.div.attrs((function(e){return{style:Is({},e.bounds)}}))(Ps||(Ps=(0,oo.Z)(["\n  position: absolute;\n  background: ",";\n  background: ",";\n"])),(function(e){return e.theme.player.cardsPage.backdrop.fallback}),(function(e){return e.theme.player.cardsPage.backdrop.gradient})),Rs=ao.ZP.div(js||(js=(0,oo.Z)(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  border-radius: ","px;\n  background: ",";\n  background: ",";\n"])),(function(e){return e.theme.player.cardsPage.borderRadius}),(function(e){return e.background.fallback}),(function(e){return e.background.gradient})),Ms=function(e){return void 0!==(e.front&&(e.front.text||e.front.img))},qs=function(e){return void 0!==(e.back&&(e.back.text||e.back.img))},Fs=function(e){return void 0!==(e.front&&e.front.text&&e.front.img)},Ns=function(e){return void 0!==(e.back&&e.back.text&&e.back.img)},Vs=ao.ZP.div(zs||(zs=(0,oo.Z)(["\n  position: absolute;\n  right: 5px;\n  top: 5px;\n  width: 32px;\n  height: 32px;\n  border-radius: 32px;\n  color: ",";\n\n  ","\n"])),(function(e){return e.foreground}),(function(e){var t=e.background;return t?"\n      background: ".concat(t.fallback,";\n      background: ").concat(t.gradient,";\n  "):""})),Bs=function(e){var t=e.background,n=e.foreground;return r.createElement(Vs,{background:t,foreground:n},r.createElement(Ss,null))},Hs=function(e){var t=e.page,n=e.windowDimensions,i=e.containerSize,a=(0,o.v9)(bn),c=(0,r.useContext)(Kn.E6),l=(0,o.I0)(),u=a.find((function(e){return e&&e.pageId===t.id})),s=Nt(t),d=(0,o.v9)(xt),f={top:t.backdropBounds.top,left:(i.width-n.width)/2,width:n.width,height:t.backdropBounds.height};return u?r.createElement(Tl,{dim:n},r.createElement(Rl,{size:i},r.createElement(Ts,{bounds:f,ref:s.name("backdrop")}),r.createElement(Nl,{els:t.prefix,animationRefs:s}),u.cards.map((function(e){return r.createElement(Ys,{key:e.cid,bounds:e.bounds,ref:s.cid(e.cid),onClick:function(){qs(e)&&l(P(e.cid))},canFlip:qs(e)},r.createElement(Zs,{className:e.reversed?"reversed":""},Ms(e)&&r.createElement(Ds,{cardTheme:d.player.cardsPage.front,backgroundPosition:e.frontImage.position,backgroundImage:e.frontImage.ref?c(e.frontImage.ref):void 0},Fs(e)&&r.createElement(Rs,{background:d.player.cardsPage.front.imageOverlay}),e.front.text&&r.createElement(Nl,{els:[e.front.text]}),qs(e)&&(e.frontImage.ref?r.createElement(Bs,{foreground:d.player.cardsPage.front.imageForeground,background:Fs(e)?void 0:d.player.cardsPage.front.imageOverlay}):r.createElement(Bs,{foreground:d.player.cardsPage.front.foreground,background:void 0}))),!Ms(e)&&r.createElement(Ds,{cardTheme:d.player.cardsPage.front,backgroundPosition:"center",backgroundImage:d.player.cardsPage.frontFallbackImage.url},qs(e)&&r.createElement(Bs,{foreground:d.player.cardsPage.front.foreground,background:void 0})),qs(e)&&r.createElement(As,{cardTheme:d.player.cardsPage.back,backgroundPosition:e.backImage.position,backgroundImage:e.backImage.ref?c(e.backImage.ref):void 0},Ns(e)&&r.createElement(Rs,{background:d.player.cardsPage.back.imageOverlay}),e.back.text&&r.createElement(Nl,{els:[e.back.text]}),e.backImage.ref?r.createElement(Bs,{foreground:d.player.cardsPage.back.imageForeground,background:Ns(e)?void 0:d.player.cardsPage.back.imageOverlay}):r.createElement(Bs,{foreground:d.player.cardsPage.back.foreground,background:void 0}))))})))):(console.error("can not find cardPageInfo (selector output"),r.createElement(r.Fragment,null))},Qs=function(e){var t=e.page,n=e.windowDimensions,i=e.containerSize,a=(0,o.I0)(),c=(0,r.useCallback)((function(){return a(j())}),[a]);return r.createElement(Tl,{dim:n},r.createElement(Rl,{size:i},r.createElement(Fl,{page:t}),r.createElement(uc.z,{variant:"warning",onClick:c},t.translation.start)))},$s=function(e){var t=e.page,n=e.windowDimensions,i=e.containerSize,a=(0,o.I0)(),c=(0,o.v9)(ln),l=c.active,u=c.config,s=(0,o.v9)(un),d=(0,r.useCallback)((function(){return a(z())}),[a]);return r.createElement(Tl,{dim:n},r.createElement(Rl,{size:i},l&&r.createElement(uc.z,{variant:"warning",onClick:d},t.translation.submit),!l&&u&&r.createElement(r.Fragment,null,"Got ",s,", need ",u.successPercent,r.createElement("br",null),s>=u.successPercent&&r.createElement(r.Fragment,null,"You did it!"),s<u.successPercent&&r.createElement(r.Fragment,null,"You fucked up"))))},Xs=["page"];function Us(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Us(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Us(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ws,Js,Gs,Ks,ed,td,nd=function(e){var t=e.page,n=(0,co.Z)(e,Xs);return t.kind===Je.TitleColumn1?r.createElement(Jl,_s({page:t},n)):t.kind===Je.TitleColumn2?r.createElement(Gl,_s({page:t},n)):t.kind===Je.TitleVerticalThird?r.createElement(os,_s({page:t},n)):t.kind===Je.VerticalHalf?r.createElement(eu,_s({page:t},n)):t.kind===Je.HorizontalThird?r.createElement(tu,_s({page:t},n)):t.kind===Je.HorizontalThirdColumn2?r.createElement(nu,_s({page:t},n)):t.kind===Je.ImagePortraitColumn2?r.createElement(ru,_s({page:t},n)):t.kind===Je.ImageLandscapeColumn3?r.createElement(iu,_s({page:t},n)):t.kind===Je.Image?r.createElement(au,_s({page:t},n)):t.kind===Je.ImageRow2?r.createElement(uu,_s({page:t},n)):t.kind===Je.ImageCaption?r.createElement(as,_s({page:t},n)):t.kind===Je.Title?r.createElement(gu,_s({page:t},n)):t.kind===Je.Question?r.createElement(Iu,_s({page:t},n)):t.kind===Je.Citation?r.createElement(ts,_s({page:t},n)):t.kind===Je.Video?r.createElement(ns,_s({page:t},n)):t.kind===Je.IFrame?r.createElement(is,_s({page:t},n)):t.kind===Je.ImageLabel?r.createElement(bs,_s({page:t},n)):t.kind===Je.MobileImageLabel?r.createElement(hs,_s({page:t},n)):t.kind===Je.Cards?r.createElement(Hs,_s({page:t},n)):t.kind===Je.TestStart?r.createElement(Qs,_s({page:t},n)):t.kind===Je.TestResult?r.createElement($s,_s({page:t},n)):r.createElement(Kl,_s({page:t},n))},rd=ao.ZP.div(Ws||(Ws=(0,oo.Z)(["\n  position: relative;\n  width: ","px;\n  height: ","px;\n  overflow-x: hidden;\n  overflow-y: hidden;\n"])),(function(e){return e.dim.width}),(function(e){return e.dim.height})),id=ao.ZP.div.attrs((function(e){return{style:{left:(e.activeIndex+1)*-e.dim.width}}}))(Js||(Js=(0,oo.Z)(["\n  position: absolute;\n  top: 0;\n  left: ","px;\n  width: ","px;\n  height: ","px;\n  display: flex;\n  flex-direction: row;\n  transition-property: left;\n  transition-duration: ","ms;\n\n  transition-timing-function: ease-in-out;\n  transition-delay: 0s;\n"])),(function(e){return-e.dim.width}),(function(e){var t=e.dim,n=e.pageCount;return t.width*(n+1)}),(function(e){return e.dim.height}),(function(e){var t=e.transitionAnimationEnabled,n=e.theme;return t?n.player.pageTransition.duration:0})),od=ao.ZP.div(Gs||(Gs=(0,oo.Z)(["\n  width: ","px;\n  height: ","px;\n"])),(function(e){return e.dim.width}),(function(e){return e.dim.height})),ad=(0,ao.ZP)(fa)(Ks||(Ks=(0,oo.Z)(["\n  width: ","px;\n  position: fixed;\n  bottom: ","px;\n  left: ","px;\n  justify-content: ",";\n  /* stylelint-disable */\n  transition:\n    bottom 0.4s ease-in-out,\n    transform 0.4s ease-in-out,\n    width 0.4s 0.4s ease-in-out,\n    left 0.4s 0.4s ease-in-out;\n  /* stylelint-enable */\n  overflow: ",";\n  transform: ",";\n  z-index: 2;\n"])),(function(e){return e.showPlay?64:350}),(function(e){var t=e.showPlay,n=e.mobile;return t?n?75:200:12}),(function(e){var t=e.dim,n=e.showPlay;return(t.width-(n?64:350))/2}),(function(e){return e.showPlay?"center":"stretch"}),(function(e){return e.showPlay?"initial":"hidden"}),(function(e){return e.showPlay?"scale(1.5)":""})),cd=(0,ao.ZP)((function(e){var t=e.indeterminate,n=(0,co.Z)(e,pa);return t?r.createElement(va,ma({},n)):r.createElement(ha,ma({},n))}))(ed||(ed=(0,oo.Z)(["\n  position: fixed;\n  transition: transform 0.5s linear;\n  height: 4px;\n  border-radius: 0;\n"]))),ld=ao.ZP.div(td||(td=(0,oo.Z)(["\n  display: flex;\n  justify-content: center;\n  width: ","px;\n"])),(function(e){return e.dim.width})),ud=function(){var e=r.useState(void 0),t=(0,Pr.Z)(e,2),n=t[0],i=t[1],a=(0,o.v9)(Zt),c=(0,o.v9)(zt),l=(0,o.v9)(Ct),u=(0,o.v9)(It),s=(0,o.v9)(Yt),d=(0,o.v9)(Gt),p=(0,o.v9)(sn),g=(0,o.v9)(Ot),m=(0,o.v9)(Qt),b=(0,o.v9)($t),h=(0,o.v9)(Jt),v=(0,o.v9)(dn),w=(0,o.v9)(fn),O=(0,o.v9)(pn),x=(0,o.v9)(en),E=(0,o.v9)(tn),P=(0,o.v9)(nn),j=(0,o.v9)(jt),z=(0,o.v9)(wn),S=(0,o.v9)(Mt),C=(0,o.v9)(Et),I=(0,o.v9)(Lt),Y=(0,o.v9)(gn),Z=(0,o.I0)(),L=(0,ka.pb)(),D=(0,o.v9)(wt),A=(0,o.v9)(kt),T=(0,f.t6)(A),R=r.useCallback((function(e){Z(y(e))}),[Z]),M=r.useCallback((function(e){Z(k({direction:e}))}),[Z]),B=r.useCallback((function(){Z(q())}),[Z]),H=r.useCallback((function(){Z(F())}),[Z]),Q=r.useCallback((function(){Z(V(!E))}),[Z,E]),X=r.useCallback((function(e){Q(),Z(k({cid:e}))}),[Z,Q]),U=r.useMemo((function(){if(w&&0!==c&&x)return function(){return M(-1)}}),[w,c,M,x]),_=r.useMemo((function(){if(O&&x)return function(){return M(1)}}),[O,M,x]),W=r.useCallback((function(){Z(N())}),[Z]),J=(0,r.useCallback)((function(){Z(k({index:Y}))}),[Z,Y]),G=(0,r.useCallback)((function(){Z(k({index:0}))}),[Z]),K=r.useCallback((function(e){if((0,Da.ad)()&&0!==e.touches.length&&n){var t=e.touches[0],r=n.x-t.clientX,o=n.y-t.clientY,a=Math.abs(r);Math.abs(o)<a&&a>80&&(r>0?_&&_():U&&U(),i(void 0))}}),[n,i,U,_]),ee=r.useCallback((function(e){e.touches.length>0&&i({x:e.touches[0].clientX,y:e.touches[0].clientY})}),[i]),te=r.useCallback((function(e){Z($(e))}),[Z]);return r.createElement(rd,{dim:l,onTouchMove:K,onTouchStart:ee},r.createElement(wa,{windowDimensions:l,visible:g}),L.demoContent&&r.createElement(La,{windowDimensions:l}),E&&r.createElement(_o.vV,{mobile:l.width<=768,headers:p,overallProgress:m,isCompletedStatus:b,onClose:Q,onSelect:X,onSetSearchQuery:te,searchResult:z,searchPlaceholder:S.search,searchNoResults:S.noSearchResult,availableLocales:D,currentLocale:A,imprint:I,imprintHeader:S.imprint,imprintLineOfBusiness:S.imprintLineOfBusiness,switchLocale:R,rtl:T}),P&&r.createElement(_o.Nl,{mobile:l.width<=768,overallProgress:m,isCompletedStatus:b,translations:S.endpage,onContinue:J,onRestart:G}),r.createElement(ld,{dim:l},v&&r.createElement(_o.N5,{backgroundVariant:"background",textVariant:"primary",visible:j&&c!==v.pageIndex},v.text)),r.createElement(id,{activeIndex:c,dim:l,pageCount:a.length,transitionAnimationEnabled:C},r.createElement(od,{dim:l}),a.map((function(e,t){if(t===c||t===c+1||t===c-1){var n=t===c?"current":"off";return r.createElement(nd,{key:t,animate:n,page:e,windowDimensions:l,canvasMinSize:u,containerSize:s})}return r.createElement(od,{key:t,dim:l})})),r.createElement(ad,{showPlay:!x,play:W,dim:l,mobile:l.width<720,showToc:Q,navBack:U,navForward:_,mute:B,unmute:H,isMuted:d,currentPage:c+1,maxPage:a.length,availableLocales:D,currentLocale:A,switchLocale:R,rtl:T,switchPlayer:L.switchPlayer,enterAria:S.enterAria}),r.createElement(cd,{progress:100*h,variant:"secondary"})))},sd=n(1553),dd=function(e){var t=e.children,n=(0,o.I0)(),a=(0,o.v9)(rn),c=(0,r.useCallback)((function(){if(a){var e=i();n(H(e))}}),[n,a]);return(0,r.useEffect)((function(){return c}),[c]),(0,r.useLayoutEffect)((function(){var e=sd((function(){c()}),100);return window.addEventListener("resize",e),function(){e.cancel(),window.removeEventListener("resize",e)}}),[c]),r.createElement(r.Fragment,null,t)},fd=n(9944),pd=n(5854),gd=function(){var e=(0,o.I0)(),t=(0,o.v9)(en),n=(0,o.v9)(ht),i=(0,o.v9)(bt),a=(0,o.v9)(Dt),c=(0,r.useCallback)((function(n){if(t)switch(n.key){case"Enter":case"ArrowRight":e(k({direction:1}));break;case"ArrowLeft":e(k({direction:-1}));break;case"Escape":e(w())}else" "===n.key&&e(N())}),[e,t]);(0,r.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}}),[c,t]);var l=void 0!==n&&i;return r.createElement(dd,null,l&&r.createElement(ud,null),!l&&!a&&r.createElement(_o.gb,null),a&&r.createElement(fd.kC,{direction:"column",justify:"center",align:"center"},r.createElement(pd.L,{size:64}),r.createElement(Bo.P,null,"Sorry, there was an unexpected error while layouting the output!")))},md=r.memo((function(e){var t=e.contentBackend,n=e.universalApi,a=e.theme,c=e.versions,l=e.initLanguage,u=io(t,n,i(),a,c,l);return r.createElement(o.zt,{store:u},r.createElement(gd,null))}));md.displayName="PagerPlayer";const bd=md}}]);